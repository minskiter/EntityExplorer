{"version":3,"sources":["webpack:///./src/modules/Tree/Tree.vue?f2f9","webpack:///./src/modules/Tree/Tree.vue?0adb","webpack:///./node_modules/core-js/modules/es.set.js","webpack:///./node_modules/core-js/internals/collection-strong.js","webpack:///./node_modules/core-js/internals/collection.js","webpack:///./src/modules/Tree/Tree.vue","webpack:///./node_modules/echarts/lib/chart/helper/Symbol.js","webpack:///./node_modules/echarts/lib/chart/tree/layoutHelper.js","webpack:///./node_modules/echarts/lib/coord/View.js","webpack:///./node_modules/echarts/lib/component/helper/roamHelper.js","webpack:///./node_modules/echarts/lib/component/helper/interactionMutex.js","webpack:///./node_modules/echarts/lib/component/helper/RoamController.js","webpack:///./node_modules/echarts/lib/component/helper/cursorHelper.js","webpack:///./node_modules/echarts/lib/chart/tree/TreeView.js","webpack:///./node_modules/echarts/lib/data/helper/linkList.js","webpack:///./node_modules/echarts/lib/data/Tree.js","webpack:///./node_modules/echarts/lib/chart/helper/treeHelper.js","webpack:///./node_modules/echarts/lib/chart/tree/TreeSeries.js","webpack:///./node_modules/echarts/lib/chart/tree/traversalHelper.js","webpack:///./node_modules/echarts/lib/chart/tree/treeLayout.js","webpack:///./node_modules/echarts/lib/chart/tree/treeVisual.js","webpack:///./node_modules/echarts/lib/action/roamHelper.js","webpack:///./node_modules/echarts/lib/chart/tree/treeAction.js","webpack:///./node_modules/echarts/lib/chart/tree/install.js","webpack:///./node_modules/echarts/lib/component/title/install.js","webpack:///./node_modules/echarts/lib/component/legend/LegendModel.js","webpack:///./node_modules/echarts/lib/component/helper/listComponent.js","webpack:///./node_modules/echarts/lib/component/legend/LegendView.js","webpack:///./node_modules/echarts/lib/component/legend/legendFilter.js","webpack:///./node_modules/echarts/lib/component/legend/legendAction.js","webpack:///./node_modules/echarts/lib/component/legend/installLegendPlain.js","webpack:///./node_modules/echarts/lib/component/legend/ScrollableLegendModel.js","webpack:///./node_modules/echarts/lib/component/legend/ScrollableLegendView.js","webpack:///./node_modules/echarts/lib/component/legend/scrollableLegendAction.js","webpack:///./node_modules/echarts/lib/component/legend/installLegendScroll.js","webpack:///./node_modules/echarts/lib/component/legend/install.js","webpack:///./node_modules/echarts/lib/component/tooltip.js","webpack:///./src/modules/Tree/Tree.vue?d7f4","webpack:///./node_modules/clipboard/dist/clipboard.js","webpack:///./node_modules/core-js/internals/freezing.js","webpack:///./node_modules/core-js/internals/internal-metadata.js"],"names":["collection","collectionStrong","module","exports","init","this","arguments","length","undefined","defineProperty","f","create","redefineAll","bind","anInstance","iterate","defineIterator","setSpecies","DESCRIPTORS","fastKey","InternalStateModule","setInternalState","set","internalStateGetterFor","getterFor","getConstructor","wrapper","CONSTRUCTOR_NAME","IS_MAP","ADDER","C","that","iterable","type","index","first","last","size","AS_ENTRIES","getInternalState","define","key","value","previous","state","entry","getEntry","next","removed","prototype","clear","data","prev","forEach","callbackfn","boundFunction","has","get","add","setStrong","ITERATOR_NAME","getInternalCollectionState","getInternalIteratorState","iterated","kind","target","done","$","global","isForced","redefine","InternalMetadataModule","isObject","fails","checkCorrectnessOfIteration","setToStringTag","inheritIfRequired","common","indexOf","IS_WEAK","NativeConstructor","NativePrototype","Constructor","exported","fixMethod","KEY","nativeMethod","call","REPLACE","entries","enable","instance","HASNT_CHAINING","THROWS_ON_PRIMITIVES","ACCEPT_ITERABLES","BUGGY_ZERO","$instance","dummy","constructor","forced","class","ref","cols","rows","placeholder","i2eText","e2iText","updateData","uploadData","cur","line","nextLine","prevLine","skipLine","option","options","autoresize","_super","Symbol","idx","seriesScope","opts","_this","_createSymbol","symbolType","symbolSize","keepAspect","removeAll","symbolPath","attr","z2","culling","scaleX","scaleY","drift","driftSymbol","_symbolType","stopSymbolAnimation","toLastFrame","childAt","stopAnimation","getSymbolPath","highlight","downplay","setZ","zlevel","z","setDraggable","draggable","cursor","silent","getItemVisual","seriesModel","hostModel","getSymbolSize","isInit","disableAnimation","graphic","_updateCommon","_sizeX","_sizeY","style","opacity","_seriesModel","emphasisItemStyle","blurItemStyle","selectItemStyle","focus","blurScope","labelStatesModels","hoverScale","cursorStyle","hasItemOption","itemModel","getItemModel","emphasisModel","getModel","getItemStyle","getShallow","symbolRotate","Math","PI","symbolOffset","x","y","symbolStyle","visualColor","fill","pathStyle","useStyle","image","width","height","__isEmptyBrush","decal","setColor","symbolInnerColor","strokeNoScale","liftZ","z2Origin","_z2","useNameLabel","getLabelDefaultText","getName","labelFetcher","labelDataIndex","defaultText","inheritColor","defaultOpacity","emphasisState","ensureState","scaleRatio","max","setSymbolScale","scale","fadeOut","cb","opt","dataIndex","animationOpt","animation","fadeLabel","textContent","getTextContent","removeOpt","removeTextContent","slice","dx","dy","parent","inRoot","root","hierNode","defaultAncestor","ancestor","prelim","modifier","change","shift","i","thread","node","children","nodes","pop","isExpand","n","child","push","firstWalk","separation","siblings","parentNode","subtreeW","executeShifts","midPoint","apportion","secondWalk","nodeX","setLayout","defaultSeparation","radialCoordinate","rad","r","cos","sin","getViewRect","api","getBoxLayoutParams","getWidth","getHeight","subtreeV","nodeOutRight","nodeInRight","nodeOutLeft","nodeInLeft","sumOutRight","sumInRight","sumOutLeft","sumInLeft","nextRight","nextLeft","moveSubtree","nextAncestor","wl","wr","node1","node2","v2ApplyTransform","vector","View","name","dimensions","_roamTransformable","Transformable","_rawTransformable","setBoundingRect","_rect","BoundingRect","getBoundingRect","setViewRect","_transformTo","_viewRect","rect","rawTransform","transform","calculateTransform","rawParent","decomposeTransform","_updateTransform","setCenter","centerCoord","_center","_updateCenterAndZoom","setZoom","zoom","zoomLimit","min","_zoom","getDefaultCenter","rawRect","cx","cy","getCenter","getZoom","getRoamTransform","getLocalTransform","rawTransformMatrix","roamTransform","defaultCenter","center","originX","originY","roamTransformable","rawTransformable","updateTransform","matrix","_rawTransform","invTransform","getTransformInfo","dummyTransformable","roam","raw","getViewRectAfterRoam","clone","applyTransform","dataToPoint","noRoam","out","pointToData","point","convertToPixel","ecModel","finder","coordSys","getCoordSys","convertFromPixel","pixel","containPoint","contain","coordinateSystem","updateViewOnPan","controllerHost","dirty","updateViewOnZoom","zoomDelta","zoomX","zoomY","newZoom","zoomMin","zoomMax","Infinity","zoomScale","ATTR","isTaken","zr","resourceKey","getStore","echarts","event","update","RoamController","_zr","mousedownHandler","_mousedownHandler","mousemoveHandler","_mousemoveHandler","mouseupHandler","_mouseupHandler","mousewheelHandler","_mousewheelHandler","pinchHandler","_pinchHandler","controlType","disable","_opt","zoomOnMouseWheel","moveOnMouseMove","moveOnMouseWheel","preventDefaultMouseMove","on","off","isDragging","_dragging","isPinching","_pinching","setPointerChecker","pointerChecker","dispose","e","offsetX","offsetY","_x","_y","isAvailableBehavior","gestureEvent","oldX","oldY","trigger","newX","newY","shouldZoom","shouldMove","wheelDelta","absWheelDeltaDelta","abs","factor","checkPointerAndTrigger","absDelta","scrollDelta","pinchScale","pinchX","pinchY","Eventful","controller","eventName","behaviorToCheck","contollerEvent","settings","setting","IRRELEVANT_EXCLUDES","onIrrelevantElement","targetCoordSysModel","model","getComponentByElement","topTarget","hasOwnProperty","mainType","TreeEdgeShape","parentPoint","childPoints","TreePath","getDefaultStyle","stroke","getDefaultShape","buildPath","ctx","shape","childLen","firstChildPos","lastChildPos","moveTo","lineTo","orient","forkDim","otherDim","forkPosition","tmpPoint","Path","TreeView","apply","_mainGroup","_controller","getZr","_controllerHost","group","render","getData","layoutInfo","layout","_updateViewCoordSys","_updateController","oldData","_data","diff","newIdx","symbolNeedsDraw","updateNode","oldIdx","symbolEl","getItemGraphicEl","removeNode","remove","execute","_nodeScaleRatio","_updateNodeAndLinkScale","eachItemGraphicEl","el","dispatchAction","seriesId","id","points","each","getItemLayout","isNaN","bbox","oldMin","_min","oldMax","_max","viewCoordSys","updateLabelLayout","nodeScale","_getNodeGlobalScale","nodeScaleRatio","groupZoom","roamZoom","Chart","tree","getNodeByDataIndex","getVisual","virtualRoot","source","sourceSymbolEl","sourceLayout","getLayout","sourceOldLayout","__oldX","__oldY","rawX","__radialOldRawX","rawY","__radialOldRawY","targetLayout","__radialRawX","__radialRawY","setItemGraphicEl","realRoot","rootLayout","length_1","isLeft","atan2","textPosition","normalLabelModel","rotate","labelRotateRadian","setTextConfig","position","rotation","origin","setStyle","focusDataIndices","getAncestorsIndices","getDescendantIndices","drawEdge","__edge","onHoverStateChange","toState","parentEl","hoverState","edgeShape","getOrient","curvature","edgeForkPosition","lineStyle","getLineStyle","edge","getEdgeShape","childLayout","removeAnimationOpt","duration","easing","sourceEdge","layoutOpt","cpx1","cpy1","cpx2","cpy2","x1","x2","y1","y2","radialCoor1","radialCoor2","radialCoor3","radialCoor4","inner","linkList","mainData","datas","main","datasAttr","linkAll","TRANSFERABLE_METHODS","methodName","wrapMethod","transferInjection","cloneShallowInjection","CHANGABLE_METHODS","changeInjection","dataType","res","isMainData","linkSingle","struct","cloneShallow","getLinkedData","getLinkedDataAll","structAttr","TreeNode","hostTree","depth","viewChildren","isRemoved","eachNode","context","order","suppressVisitSub","updateDepthAndHeight","getNodeById","getId","len","contains","getAncestors","includeSelf","ancestors","reverse","indices","currNode","childNode","getValue","dimension","getDimension","merge","setItemLayout","path","getLevelModel","levelModels","setVisual","setItemVisual","getRawIndex","isAncestorOf","isDescendantOf","Tree","_nodes","rawIndex","count","clearLayouts","clearItemLayouts","createTree","dataRoot","beforeLink","listData","dimMax","buildHierarchy","dataNode","addChild","dimensionsInfo","createDimensions","coordDimensions","dimensionsCount","list","List","initData","wrapTreePathInfo","treePathInfo","nodeDataIndex","getRawValue","TreeSeriesModel","hasSymbolVisual","ignoreStyleOnData","getInitialData","leaves","leavesModel","Model","nodeData","parentModel","treeDepth","expandAndCollapse","expandTreeDepth","initialTreeDepth","item","getRawDataItem","collapsed","formatTooltip","multipleSeries","noValue","getDataParams","params","treeAncestors","layoutMode","defaultOption","left","top","right","bottom","symbol","color","curveness","itemStyle","borderWidth","label","show","animationEasing","animationDuration","animationDurationUpdate","Series","TreeSeries","eachAfter","callback","eachBefore","treeLayout","eachSeriesByType","commonLayout","left_1","right_1","bottom_1","delta","tx_1","kx_1","ky_1","coorX_1","coorY_1","finalCoor","orient_1","treeVisual","existsStyle","ensureUniqueItemVisual","updateCenterAndZoom","view","payload","previousZoom","fixX","fixY","installTreeAction","registers","registerAction","eachComponent","subType","query","install","registerChartView","registerSeriesModel","registerLayout","registerVisual","TitleModel","ignoreSize","text","subtext","subtarget","backgroundColor","borderColor","padding","itemGap","textStyle","fontSize","fontWeight","subtextStyle","Component","TitleView","titleModel","textStyleModel","subtextStyleModel","textAlign","textVerticalAlign","textEl","getTextColor","disableBox","textRect","subText","subTextEl","verticalAlign","link","sublink","triggerEvent","eventData","componentType","componentIndex","groupRect","layoutOption","layoutRect","markRedraw","alignStyle","align","margin","subPixelOptimize","registerComponentModel","registerComponentView","getDefaultSelectorOptions","title","getLocale","LegendModel","mergeDefaultAndTheme","selected","_updateSelector","mergeOption","selector","optionUpdated","_updateData","legendData","hasSelected","name_1","isSelected","select","potentialData","availableNames","eachRawSeries","isPotential","seriesName","legendVisualProvider","provider","names","getAllNames","isSeriesFiltered","concat","_availableNames","rawData","dataItem","selectedMode","unSelect","toggleSelected","allSelect","inverseSelect","dependencies","borderRadius","itemWidth","itemHeight","inactiveColor","inactiveBorderColor","inactiveBorderWidth","shadowBlur","shadowColor","shadowOffsetX","shadowOffsetY","borderCap","borderJoin","borderDashOffset","borderMiterLimit","inactiveWidth","cap","join","dashOffset","miterLimit","selectorLabel","fontFamily","emphasis","selectorPosition","selectorItemGap","selectorButtonGap","tooltip","makeBackground","componentModel","format","curry","LegendView","newlineDisabled","_contentGroup","_selectorGroup","_isFirstRender","getContentGroup","getSelectorGroup","legendModel","isFirstRender","resetInner","itemAlign","renderInner","positionInfo","viewportSize","maxSize","mainRect","layoutInner","_backgroundEl","contentGroup","legendDrawnMap","selectMode","excludeSeriesId","legendItemModel","g","newline","getSeriesByName","lineVisualStyle","legendIcon","itemGroup","_createItem","dispatchSelectAction","dispatchHighlightAction","dispatchDownplayAction","containName","indexOfName","colorArr","_createSelector","selectorGroup","selectorItem","labelText","onclick","labelModel","emphasisLabelModel","normal","itemVisualStyle","drawType","visualDrawType","iconRotate","legendIconType","legendLineStyle","getLegendStyle","getLegendIcon","getDefaultLegendIcon","icon","textX","formatter","content","replace","hitRect","invisible","tooltipModel","itemName","itemTooltipOption","eachChild","__legendDataIndex","contentRect","contentPos","selectorRect","selectorPos","orientIdx","wh","hw","yx","iconType","itemProperties","propName","visualName","lastIndexOf","lineWidth","legendLineModel","lineProperties","visualHasBorder","symboType","setOrigin","dataName","isUseHoverLayer","storage","getDisplayList","states","hoverLayer","legendFilter","legendModels","findComponents","filterSeries","series","legendSelectActionHandler","selectedMap","isToggleSelect","isItemSelected","installLegendAction","registerProcessor","PRIORITY","PROCESSOR","SERIES_FILTER","registerSubTypeDefaulter","ScrollableLegendModel","setScrollDataIndex","scrollDataIndex","inputPositionParams","mergeAndNormalizeLayoutParams","pageButtonItemGap","pageButtonGap","pageButtonPosition","pageFormatter","pageIcons","horizontal","vertical","pageIconColor","pageIconInactiveColor","pageIconSize","pageTextStyle","WH","XY","ScrollableLegendView","_currentIndex","_containerGroup","_controllerGroup","removeClipPath","__rectSize","self","controllerGroup","pageIconSizeArr","createPageButton","pageTextStyleModel","iconIdx","pageDataIndexName","_pageGo","font","getFont","xy","processMaxSize","_layoutContentAndController","offset","containerGroup","controllerRect","showController","_showController","containerPos","controllerPos","setPosition","clipShape","setClipPath","pageInfo","_getPageInfo","pageIndex","contentPosition","_updatePageInfoView","to","legendId","canJump","childOfName","pageText","current","total","pageCount","containerRectSize","targetItemIndex","_findTargetItemIndex","targetItem","itemCount","pCount","result","pagePrevDataIndex","pageNextDataIndex","targetItemInfo","getItemInfo","s","winStartItemInfo","winEndItemInfo","currItemInfo","intersect","itemRect","start","itemInfo","winStart","targetDataIndex","defaultIndex","legendDataIdx","installScrollableLegendAction","components","VChart","chart","e2i","i2e","initOptions","beforeMount","initEchart","btn","methods","input","document","createElement","accept","display","onchange","files","file","reader","FileReader","onload","lines","split","items","readAsText","click","parseInt","JSON","parse","convertTreeData","edges","links","nextId","vis","Set","queue","ptr","triggerOn","dataString","stringify","replaceAll","beforeUnmount","destroy","__scopeId","factory","__webpack_modules__","134","__unused_webpack_module","__webpack_exports__","__webpack_require__","d","clipboard","tiny_emitter","tiny_emitter_default","listen","listen_default","src_select","select_default","_typeof","obj","iterator","_classCallCheck","TypeError","_defineProperties","props","descriptor","enumerable","configurable","writable","Object","_createClass","protoProps","staticProps","ClipboardAction","resolveOptions","initSelection","action","container","emitter","selectedText","selectFake","selectTarget","isRTL","documentElement","getAttribute","fakeElem","border","yPosition","window","pageYOffset","scrollTop","setAttribute","createFakeElement","fakeHandlerCallback","removeFake","fakeHandler","addEventListener","appendChild","copyText","removeEventListener","removeChild","succeeded","execCommand","err","handleResult","emit","clearSelection","activeElement","blur","getSelection","removeAllRanges","_action","Error","nodeType","hasAttribute","_target","clipboard_action","clipboard_typeof","clipboard_classCallCheck","clipboard_defineProperties","clipboard_createClass","_inherits","subClass","superClass","_setPrototypeOf","o","p","setPrototypeOf","__proto__","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","Super","_getPrototypeOf","NewTarget","Reflect","construct","_possibleConstructorReturn","_assertThisInitialized","ReferenceError","sham","Proxy","Date","toString","getPrototypeOf","getAttributeValue","suffix","element","attribute","Clipboard","_Emitter","listenClick","defaultAction","defaultTarget","body","_this2","listener","onClick","delegateTarget","currentTarget","clipboardAction","querySelector","actions","support","queryCommandSupported","828","DOCUMENT_NODE_TYPE","Element","matches","proto","matchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector","closest","438","__unused_webpack_exports","_delegate","useCapture","listenerFn","delegate","elements","querySelectorAll","Array","map","879","HTMLElement","nodeList","string","String","fn","370","is","listenNode","listenNodeList","listenSelector","817","nodeName","isReadOnly","setSelectionRange","removeAttribute","selection","range","createRange","selectNodeContents","addRange","279","E","once","_","evtArr","evts","liveEvents","TinyEmitter","__webpack_module_cache__","moduleId","getter","__esModule","a","definition","prop","default","isExtensible","preventExtensions","hiddenKeys","getOwnPropertyNamesModule","getOwnPropertyNamesExternalModule","uid","FREEZING","REQUIRED","METADATA","setMetadata","it","objectID","weakData","getWeakData","onFreeze","meta","getOwnPropertyNames","splice","test","stat"],"mappings":"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","file":"js/chunk-9011ff96.65d83b35.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Tree.vue?vue&type=style&index=0&id=ef668a1c&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Tree.vue?vue&type=style&index=1&id=ef668a1c&lang=scss\"","'use strict';\nvar collection = require('../internals/collection');\nvar collectionStrong = require('../internals/collection-strong');\n\n// `Set` constructor\n// https://tc39.es/ecma262/#sec-set-objects\nmodule.exports = collection('Set', function (init) {\n  return function Set() { return init(this, arguments.length ? arguments[0] : undefined); };\n}, collectionStrong);\n","'use strict';\nvar defineProperty = require('../internals/object-define-property').f;\nvar create = require('../internals/object-create');\nvar redefineAll = require('../internals/redefine-all');\nvar bind = require('../internals/function-bind-context');\nvar anInstance = require('../internals/an-instance');\nvar iterate = require('../internals/iterate');\nvar defineIterator = require('../internals/define-iterator');\nvar setSpecies = require('../internals/set-species');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar fastKey = require('../internals/internal-metadata').fastKey;\nvar InternalStateModule = require('../internals/internal-state');\n\nvar setInternalState = InternalStateModule.set;\nvar internalStateGetterFor = InternalStateModule.getterFor;\n\nmodule.exports = {\n  getConstructor: function (wrapper, CONSTRUCTOR_NAME, IS_MAP, ADDER) {\n    var C = wrapper(function (that, iterable) {\n      anInstance(that, C, CONSTRUCTOR_NAME);\n      setInternalState(that, {\n        type: CONSTRUCTOR_NAME,\n        index: create(null),\n        first: undefined,\n        last: undefined,\n        size: 0\n      });\n      if (!DESCRIPTORS) that.size = 0;\n      if (iterable != undefined) iterate(iterable, that[ADDER], { that: that, AS_ENTRIES: IS_MAP });\n    });\n\n    var getInternalState = internalStateGetterFor(CONSTRUCTOR_NAME);\n\n    var define = function (that, key, value) {\n      var state = getInternalState(that);\n      var entry = getEntry(that, key);\n      var previous, index;\n      // change existing entry\n      if (entry) {\n        entry.value = value;\n      // create new entry\n      } else {\n        state.last = entry = {\n          index: index = fastKey(key, true),\n          key: key,\n          value: value,\n          previous: previous = state.last,\n          next: undefined,\n          removed: false\n        };\n        if (!state.first) state.first = entry;\n        if (previous) previous.next = entry;\n        if (DESCRIPTORS) state.size++;\n        else that.size++;\n        // add to index\n        if (index !== 'F') state.index[index] = entry;\n      } return that;\n    };\n\n    var getEntry = function (that, key) {\n      var state = getInternalState(that);\n      // fast case\n      var index = fastKey(key);\n      var entry;\n      if (index !== 'F') return state.index[index];\n      // frozen object case\n      for (entry = state.first; entry; entry = entry.next) {\n        if (entry.key == key) return entry;\n      }\n    };\n\n    redefineAll(C.prototype, {\n      // `{ Map, Set }.prototype.clear()` methods\n      // https://tc39.es/ecma262/#sec-map.prototype.clear\n      // https://tc39.es/ecma262/#sec-set.prototype.clear\n      clear: function clear() {\n        var that = this;\n        var state = getInternalState(that);\n        var data = state.index;\n        var entry = state.first;\n        while (entry) {\n          entry.removed = true;\n          if (entry.previous) entry.previous = entry.previous.next = undefined;\n          delete data[entry.index];\n          entry = entry.next;\n        }\n        state.first = state.last = undefined;\n        if (DESCRIPTORS) state.size = 0;\n        else that.size = 0;\n      },\n      // `{ Map, Set }.prototype.delete(key)` methods\n      // https://tc39.es/ecma262/#sec-map.prototype.delete\n      // https://tc39.es/ecma262/#sec-set.prototype.delete\n      'delete': function (key) {\n        var that = this;\n        var state = getInternalState(that);\n        var entry = getEntry(that, key);\n        if (entry) {\n          var next = entry.next;\n          var prev = entry.previous;\n          delete state.index[entry.index];\n          entry.removed = true;\n          if (prev) prev.next = next;\n          if (next) next.previous = prev;\n          if (state.first == entry) state.first = next;\n          if (state.last == entry) state.last = prev;\n          if (DESCRIPTORS) state.size--;\n          else that.size--;\n        } return !!entry;\n      },\n      // `{ Map, Set }.prototype.forEach(callbackfn, thisArg = undefined)` methods\n      // https://tc39.es/ecma262/#sec-map.prototype.foreach\n      // https://tc39.es/ecma262/#sec-set.prototype.foreach\n      forEach: function forEach(callbackfn /* , that = undefined */) {\n        var state = getInternalState(this);\n        var boundFunction = bind(callbackfn, arguments.length > 1 ? arguments[1] : undefined, 3);\n        var entry;\n        while (entry = entry ? entry.next : state.first) {\n          boundFunction(entry.value, entry.key, this);\n          // revert to the last existing entry\n          while (entry && entry.removed) entry = entry.previous;\n        }\n      },\n      // `{ Map, Set}.prototype.has(key)` methods\n      // https://tc39.es/ecma262/#sec-map.prototype.has\n      // https://tc39.es/ecma262/#sec-set.prototype.has\n      has: function has(key) {\n        return !!getEntry(this, key);\n      }\n    });\n\n    redefineAll(C.prototype, IS_MAP ? {\n      // `Map.prototype.get(key)` method\n      // https://tc39.es/ecma262/#sec-map.prototype.get\n      get: function get(key) {\n        var entry = getEntry(this, key);\n        return entry && entry.value;\n      },\n      // `Map.prototype.set(key, value)` method\n      // https://tc39.es/ecma262/#sec-map.prototype.set\n      set: function set(key, value) {\n        return define(this, key === 0 ? 0 : key, value);\n      }\n    } : {\n      // `Set.prototype.add(value)` method\n      // https://tc39.es/ecma262/#sec-set.prototype.add\n      add: function add(value) {\n        return define(this, value = value === 0 ? 0 : value, value);\n      }\n    });\n    if (DESCRIPTORS) defineProperty(C.prototype, 'size', {\n      get: function () {\n        return getInternalState(this).size;\n      }\n    });\n    return C;\n  },\n  setStrong: function (C, CONSTRUCTOR_NAME, IS_MAP) {\n    var ITERATOR_NAME = CONSTRUCTOR_NAME + ' Iterator';\n    var getInternalCollectionState = internalStateGetterFor(CONSTRUCTOR_NAME);\n    var getInternalIteratorState = internalStateGetterFor(ITERATOR_NAME);\n    // `{ Map, Set }.prototype.{ keys, values, entries, @@iterator }()` methods\n    // https://tc39.es/ecma262/#sec-map.prototype.entries\n    // https://tc39.es/ecma262/#sec-map.prototype.keys\n    // https://tc39.es/ecma262/#sec-map.prototype.values\n    // https://tc39.es/ecma262/#sec-map.prototype-@@iterator\n    // https://tc39.es/ecma262/#sec-set.prototype.entries\n    // https://tc39.es/ecma262/#sec-set.prototype.keys\n    // https://tc39.es/ecma262/#sec-set.prototype.values\n    // https://tc39.es/ecma262/#sec-set.prototype-@@iterator\n    defineIterator(C, CONSTRUCTOR_NAME, function (iterated, kind) {\n      setInternalState(this, {\n        type: ITERATOR_NAME,\n        target: iterated,\n        state: getInternalCollectionState(iterated),\n        kind: kind,\n        last: undefined\n      });\n    }, function () {\n      var state = getInternalIteratorState(this);\n      var kind = state.kind;\n      var entry = state.last;\n      // revert to the last existing entry\n      while (entry && entry.removed) entry = entry.previous;\n      // get next entry\n      if (!state.target || !(state.last = entry = entry ? entry.next : state.state.first)) {\n        // or finish the iteration\n        state.target = undefined;\n        return { value: undefined, done: true };\n      }\n      // return step by kind\n      if (kind == 'keys') return { value: entry.key, done: false };\n      if (kind == 'values') return { value: entry.value, done: false };\n      return { value: [entry.key, entry.value], done: false };\n    }, IS_MAP ? 'entries' : 'values', !IS_MAP, true);\n\n    // `{ Map, Set }.prototype[@@species]` accessors\n    // https://tc39.es/ecma262/#sec-get-map-@@species\n    // https://tc39.es/ecma262/#sec-get-set-@@species\n    setSpecies(CONSTRUCTOR_NAME);\n  }\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar isForced = require('../internals/is-forced');\nvar redefine = require('../internals/redefine');\nvar InternalMetadataModule = require('../internals/internal-metadata');\nvar iterate = require('../internals/iterate');\nvar anInstance = require('../internals/an-instance');\nvar isObject = require('../internals/is-object');\nvar fails = require('../internals/fails');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar inheritIfRequired = require('../internals/inherit-if-required');\n\nmodule.exports = function (CONSTRUCTOR_NAME, wrapper, common) {\n  var IS_MAP = CONSTRUCTOR_NAME.indexOf('Map') !== -1;\n  var IS_WEAK = CONSTRUCTOR_NAME.indexOf('Weak') !== -1;\n  var ADDER = IS_MAP ? 'set' : 'add';\n  var NativeConstructor = global[CONSTRUCTOR_NAME];\n  var NativePrototype = NativeConstructor && NativeConstructor.prototype;\n  var Constructor = NativeConstructor;\n  var exported = {};\n\n  var fixMethod = function (KEY) {\n    var nativeMethod = NativePrototype[KEY];\n    redefine(NativePrototype, KEY,\n      KEY == 'add' ? function add(value) {\n        nativeMethod.call(this, value === 0 ? 0 : value);\n        return this;\n      } : KEY == 'delete' ? function (key) {\n        return IS_WEAK && !isObject(key) ? false : nativeMethod.call(this, key === 0 ? 0 : key);\n      } : KEY == 'get' ? function get(key) {\n        return IS_WEAK && !isObject(key) ? undefined : nativeMethod.call(this, key === 0 ? 0 : key);\n      } : KEY == 'has' ? function has(key) {\n        return IS_WEAK && !isObject(key) ? false : nativeMethod.call(this, key === 0 ? 0 : key);\n      } : function set(key, value) {\n        nativeMethod.call(this, key === 0 ? 0 : key, value);\n        return this;\n      }\n    );\n  };\n\n  var REPLACE = isForced(\n    CONSTRUCTOR_NAME,\n    typeof NativeConstructor != 'function' || !(IS_WEAK || NativePrototype.forEach && !fails(function () {\n      new NativeConstructor().entries().next();\n    }))\n  );\n\n  if (REPLACE) {\n    // create collection constructor\n    Constructor = common.getConstructor(wrapper, CONSTRUCTOR_NAME, IS_MAP, ADDER);\n    InternalMetadataModule.enable();\n  } else if (isForced(CONSTRUCTOR_NAME, true)) {\n    var instance = new Constructor();\n    // early implementations not supports chaining\n    var HASNT_CHAINING = instance[ADDER](IS_WEAK ? {} : -0, 1) != instance;\n    // V8 ~ Chromium 40- weak-collections throws on primitives, but should return false\n    var THROWS_ON_PRIMITIVES = fails(function () { instance.has(1); });\n    // most early implementations doesn't supports iterables, most modern - not close it correctly\n    // eslint-disable-next-line no-new -- required for testing\n    var ACCEPT_ITERABLES = checkCorrectnessOfIteration(function (iterable) { new NativeConstructor(iterable); });\n    // for early implementations -0 and +0 not the same\n    var BUGGY_ZERO = !IS_WEAK && fails(function () {\n      // V8 ~ Chromium 42- fails only with 5+ elements\n      var $instance = new NativeConstructor();\n      var index = 5;\n      while (index--) $instance[ADDER](index, index);\n      return !$instance.has(-0);\n    });\n\n    if (!ACCEPT_ITERABLES) {\n      Constructor = wrapper(function (dummy, iterable) {\n        anInstance(dummy, Constructor, CONSTRUCTOR_NAME);\n        var that = inheritIfRequired(new NativeConstructor(), dummy, Constructor);\n        if (iterable != undefined) iterate(iterable, that[ADDER], { that: that, AS_ENTRIES: IS_MAP });\n        return that;\n      });\n      Constructor.prototype = NativePrototype;\n      NativePrototype.constructor = Constructor;\n    }\n\n    if (THROWS_ON_PRIMITIVES || BUGGY_ZERO) {\n      fixMethod('delete');\n      fixMethod('has');\n      IS_MAP && fixMethod('get');\n    }\n\n    if (BUGGY_ZERO || HASNT_CHAINING) fixMethod(ADDER);\n\n    // weak collections should not contains .clear method\n    if (IS_WEAK && NativePrototype.clear) delete NativePrototype.clear;\n  }\n\n  exported[CONSTRUCTOR_NAME] = Constructor;\n  $({ global: true, forced: Constructor != NativeConstructor }, exported);\n\n  setToStringTag(Constructor, CONSTRUCTOR_NAME);\n\n  if (!IS_WEAK) common.setStrong(Constructor, CONSTRUCTOR_NAME, IS_MAP);\n\n  return Constructor;\n};\n","<template>\r\n    <div class=\"container\">\r\n        <div class=\"panel\">\r\n            <div>\r\n                <textarea\r\n                    ref=\"i2e\"\r\n                    cols=\"30\"\r\n                    rows=\"10\"\r\n                    placeholder=\"i2e\"\r\n                    v-model=\"i2eText\"\r\n                    class=\"textarea\"\r\n                ></textarea>\r\n                <textarea\r\n                    v-model=\"e2iText\"\r\n                    ref=\"e2i\"\r\n                    cols=\"30\"\r\n                    rows=\"10\"\r\n                    placeholder=\"e2i\"\r\n                    class=\"textarea\"\r\n                ></textarea>\r\n            </div>\r\n            <div>\r\n                <button @click=\"updateData\" class=\"button\">Update Data</button>\r\n                <button @click=\"uploadData\" class=\"button\">Upload Data</button>\r\n            </div>\r\n            <div>\r\n                <div v-if=\"cur.data\">\r\n                    <span>Count: </span> <span> {{ cur.data.length }} </span>\r\n                </div>\r\n                <div v-if=\"cur.data\">\r\n                    <span>Cur Line:</span> <span>{{ cur.line }}</span>\r\n                </div>\r\n            </div>\r\n            <div>\r\n                <button class=\"button\" @click=\"nextLine\">Next</button>\r\n                <button class=\"button\" @click=\"prevLine\">Prev</button>\r\n                <button class=\"button\" @click=\"skipLine(cur.line)\">Skip</button>\r\n                <input\r\n                    type=\"text\"\r\n                    class=\"text\"\r\n                    placeholder=\"Skip Line\"\r\n                    v-model=\"cur.line\"\r\n                />\r\n            </div>\r\n        </div>\r\n        <div>\r\n            <v-chart :option=\"options\" class=\"chart\" autoresize />\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { use } from \"echarts/core\";\r\nimport { CanvasRenderer } from \"echarts/renderers\";\r\nimport { TreeChart } from \"echarts/charts\";\r\nimport {\r\n    TitleComponent,\r\n    TooltipComponent,\r\n    LegendComponent,\r\n} from \"echarts/components\";\r\nimport VChart from \"vue-echarts\";\r\nimport \"echarts/lib/component/tooltip\"; // you need to import the tooltip component\r\nimport ClipboardJS from \"clipboard\";\r\n\r\nuse([\r\n    CanvasRenderer,\r\n    TreeChart,\r\n    TitleComponent,\r\n    TooltipComponent,\r\n    LegendComponent,\r\n]);\r\n\r\nexport default {\r\n    name: \"VueTree\",\r\n    components: {\r\n        VChart,\r\n    },\r\n    data() {\r\n        return {\r\n            chart: null,\r\n            e2i: {},\r\n            i2e: {},\r\n            cur: {\r\n                line: null,\r\n                data: null,\r\n            },\r\n            i2eText: null,\r\n            e2iText: null,\r\n            options: {},\r\n            initOptions: {},\r\n        };\r\n    },\r\n    beforeMount() {\r\n        // Init Empty Data\r\n        this.initEchart();\r\n        // Init Clipboard\r\n        this.btn = new ClipboardJS(\".clipboard\");\r\n    },\r\n    methods: {\r\n        /**\r\n         * @summary Upload csv file\r\n         */\r\n        uploadData() {\r\n            let input = document.createElement(\"input\");\r\n            input.accept = \".txt\";\r\n            input.style.display = \"none\";\r\n            input.type = \"file\";\r\n            input.onchange = ({ target: { files } }) => {\r\n                let file = files[0];\r\n                let reader = new FileReader();\r\n                reader.onload = ({ target: { result } }) => {\r\n                    let lines = result.split(\"\\n\");\r\n                    let data = [];\r\n                    for (let line of lines) {\r\n                        let items = line.split(\"\\t\");\r\n                        let e2i = items[0];\r\n                        let i2e = items[1];\r\n                        data.push({\r\n                            e2i,\r\n                            i2e,\r\n                        });\r\n                    }\r\n                    this.cur.data = data;\r\n                    this.cur.line = 1;\r\n                    this.i2eText = data[0].i2e;\r\n                    this.e2iText = data[0].e2i;\r\n                    this.updateData();\r\n                };\r\n                reader.readAsText(file);\r\n            };\r\n            input.click();\r\n        },\r\n        /**\r\n         * @summary Next line\r\n         */\r\n        nextLine() {\r\n            this.skipLine(parseInt(this.cur.line) + 1);\r\n        },\r\n        /**\r\n         * @summary Prev line\r\n         */\r\n        prevLine() {\r\n            this.skipLine(parseInt(this.cur.line) - 1);\r\n        },\r\n        /**\r\n         * @summary To special line\r\n         * @param {int} line special line\r\n         */\r\n        skipLine(line) {\r\n            if (line > 0 && line < this.cur.data.length) {\r\n                this.cur.line = line;\r\n                this.i2eText = this.cur.data[this.cur.line - 1].i2e;\r\n                this.e2iText = this.cur.data[this.cur.line - 1].e2i;\r\n                this.updateData();\r\n            }\r\n        },\r\n        /**\r\n         * @summary Update tree data\r\n         */\r\n        updateData() {\r\n            let e2i = JSON.parse(this.e2iText);\r\n            let i2e = JSON.parse(this.i2eText);\r\n            let data = this.convertTreeData(e2i, i2e);\r\n            this.initEchart(data);\r\n        },\r\n        /**\r\n         * @summary Convert entities to tree\r\n         * @param {object} e2i entity name to id\r\n         * @param {object} i2e id to entity name\r\n         * @returns {object} tree data\r\n         */\r\n        convertTreeData(e2i, i2e) {\r\n            // build edges: {{}}\r\n            let edges = {};\r\n            for (let id in i2e) {\r\n                for (let link of i2e[id].links) {\r\n                    // build edge\r\n                    let nextId = e2i[link];\r\n                    if (!edges[id]) edges[id] = {};\r\n                    edges[id][nextId] = true;\r\n                    if (!edges[nextId]) edges[nextId] = {};\r\n                    edges[nextId][id] = true;\r\n                }\r\n            }\r\n            let tree = {\r\n                id: 0,\r\n                name: i2e[0].name,\r\n                origin: i2e[0],\r\n                children: [],\r\n            };\r\n            let vis = new Set();\r\n            vis.add(\"0\");\r\n            let queue = [tree];\r\n            let ptr = 0;\r\n            while (ptr < queue.length) {\r\n                let cur = queue[ptr++];\r\n                for (let next in edges[cur.id]) {\r\n                    if (!vis.has(next)) {\r\n                        vis.add(next);\r\n                        let name = i2e[next].name;\r\n                        let node = {\r\n                            id: next,\r\n                            name,\r\n                            origin: i2e[next],\r\n                            children: [],\r\n                        };\r\n                        queue.push(node);\r\n                        cur.children.push(node);\r\n                    }\r\n                }\r\n            }\r\n            return tree;\r\n        },\r\n        /**\r\n         * @summary Init chart to show tree\r\n         * @param {object} tree data\r\n         */\r\n        initEchart(data) {\r\n            if (!data) return;\r\n            this.options = {\r\n                tooltip: {\r\n                    trigger: \"item\",\r\n                    triggerOn: \"click\",\r\n                    formatter: (params) => {\r\n                        let data = params.data.origin;\r\n                        let dataString = JSON.stringify(data).replaceAll(\r\n                            '\"',\r\n                            \"&quot;\"\r\n                        );\r\n                        return `<pre style=\"max-width:360px;overflow:auto;word-break:break-all;\">${JSON.stringify(\r\n                            data,\r\n                            null,\r\n                            4\r\n                        )}</pre>\r\n                        <button class=\"clipboard chart_copy_button\" data-clipboard-text=\"${dataString}\" >Copy</button>\r\n                        `;\r\n                    },\r\n                },\r\n                series: [\r\n                    {\r\n                        type: \"tree\",\r\n                        data: [data],\r\n                        top: \"1%\",\r\n                        left: \"14%\",\r\n                        bottom: \"1%\",\r\n                        right: \"20%\",\r\n\r\n                        symbolSize: 12,\r\n\r\n                        label: {\r\n                            position: \"left\",\r\n                            verticalAlign: \"middle\",\r\n                            align: \"right\",\r\n                            fontSize: 18,\r\n                        },\r\n\r\n                        leaves: {\r\n                            label: {\r\n                                position: \"right\",\r\n                                verticalAlign: \"middle\",\r\n                                align: \"left\",\r\n                            },\r\n                        },\r\n\r\n                        emphasis: {\r\n                            focus: \"descendant\",\r\n                        },\r\n\r\n                        expandAndCollapse: true,\r\n                        animationDuration: 550,\r\n                        animationDurationUpdate: 750,\r\n                    },\r\n                ],\r\n            };\r\n        },\r\n    },\r\n    beforeUnmount() {\r\n        if (this.btn) {\r\n            this.btn.destroy();\r\n        }\r\n    },\r\n};\r\n</script>\r\n\r\n\r\n<style lang=\"scss\" scoped>\r\n.container {\r\n    font-family: \"Segoe UI\", Tahoma, Geneva, Verdana, sans-serif;\r\n    display: flex;\r\n    height: 100vh;\r\n}\r\n.panel {\r\n    max-width: 400px;\r\n    padding: 10px;\r\n    div:not(:nth-child(1)) {\r\n        margin-top: 10px;\r\n    }\r\n}\r\n.chart {\r\n    // min-width: 1024px;\r\n    min-width: calc(100vw - 400px);\r\n    width: 100%;\r\n}\r\n.textarea {\r\n    font-size: 16px;\r\n    height: 360px;\r\n    width: 300px;\r\n    margin-right: 20px;\r\n    outline: none;\r\n    border: 1px solid #30336b;\r\n    resize: none;\r\n    border-radius: 10px;\r\n    padding: 10px 20px;\r\n    font-family: \"Segoe UI\", Tahoma, Geneva, Verdana, sans-serif;\r\n    &:not(:nth-child(1)) {\r\n        margin-top: 10px;\r\n    }\r\n}\r\n.text {\r\n    border: none;\r\n    border-bottom: 1px solid #30336b;\r\n    font-size: 14px;\r\n    padding: 4px;\r\n    border-radius: 0px;\r\n    outline: none;\r\n    margin-top: 5px;\r\n    margin-left: 10px;\r\n}\r\n.button {\r\n    display: inline-block;\r\n    width: 100px;\r\n    outline: none;\r\n    background: transparent;\r\n    border: 1px solid #30336b;\r\n    border-radius: 5px;\r\n    padding: 5px;\r\n    &:not(:nth-child(1)) {\r\n        margin-left: 10px;\r\n    }\r\n    &:hover {\r\n        border: 1px solid gray;\r\n        cursor: pointer;\r\n        opacity: 0.9;\r\n    }\r\n}\r\n</style>\r\n\r\n<style lang=\"scss\">\r\n.chart_copy_button {\r\n    display: inline-block;\r\n    width: 100px;\r\n    outline: none;\r\n    background: transparent;\r\n    border: 1px solid #30336b;\r\n    border-radius: 5px;\r\n    padding: 5px;\r\n    &:hover {\r\n        border: 1px solid gray;\r\n        cursor: pointer;\r\n        opacity: 0.9;\r\n    }\r\n}\r\n</style>","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport { createSymbol } from '../../util/symbol';\nimport * as graphic from '../../util/graphic';\nimport { getECData } from '../../util/innerStore';\nimport { enterEmphasis, leaveEmphasis, enableHoverEmphasis } from '../../util/states';\nimport { parsePercent } from '../../util/number';\nimport { getDefaultLabel } from './labelHelper';\nimport { extend, isArray, retrieve2 } from 'zrender/lib/core/util';\nimport { setLabelStyle, getLabelStatesModels } from '../../label/labelStyle';\nimport ZRImage from 'zrender/lib/graphic/Image';\n\nvar Symbol =\n/** @class */\nfunction (_super) {\n  __extends(Symbol, _super);\n\n  function Symbol(data, idx, seriesScope, opts) {\n    var _this = _super.call(this) || this;\n\n    _this.updateData(data, idx, seriesScope, opts);\n\n    return _this;\n  }\n\n  Symbol.prototype._createSymbol = function (symbolType, data, idx, symbolSize, keepAspect) {\n    // Remove paths created before\n    this.removeAll(); // let symbolPath = createSymbol(\n    //     symbolType, -0.5, -0.5, 1, 1, color\n    // );\n    // If width/height are set too small (e.g., set to 1) on ios10\n    // and macOS Sierra, a circle stroke become a rect, no matter what\n    // the scale is set. So we set width/height as 2. See #4150.\n\n    var symbolPath = createSymbol(symbolType, -1, -1, 2, 2, null, keepAspect);\n    symbolPath.attr({\n      z2: 100,\n      culling: true,\n      scaleX: symbolSize[0] / 2,\n      scaleY: symbolSize[1] / 2\n    }); // Rewrite drift method\n\n    symbolPath.drift = driftSymbol;\n    this._symbolType = symbolType;\n    this.add(symbolPath);\n  };\n  /**\n   * Stop animation\n   * @param {boolean} toLastFrame\n   */\n\n\n  Symbol.prototype.stopSymbolAnimation = function (toLastFrame) {\n    this.childAt(0).stopAnimation(null, toLastFrame);\n  };\n  /**\n   * FIXME:\n   * Caution: This method breaks the encapsulation of this module,\n   * but it indeed brings convenience. So do not use the method\n   * unless you detailedly know all the implements of `Symbol`,\n   * especially animation.\n   *\n   * Get symbol path element.\n   */\n\n\n  Symbol.prototype.getSymbolPath = function () {\n    return this.childAt(0);\n  };\n  /**\n   * Highlight symbol\n   */\n\n\n  Symbol.prototype.highlight = function () {\n    enterEmphasis(this.childAt(0));\n  };\n  /**\n   * Downplay symbol\n   */\n\n\n  Symbol.prototype.downplay = function () {\n    leaveEmphasis(this.childAt(0));\n  };\n  /**\n   * @param {number} zlevel\n   * @param {number} z\n   */\n\n\n  Symbol.prototype.setZ = function (zlevel, z) {\n    var symbolPath = this.childAt(0);\n    symbolPath.zlevel = zlevel;\n    symbolPath.z = z;\n  };\n\n  Symbol.prototype.setDraggable = function (draggable) {\n    var symbolPath = this.childAt(0);\n    symbolPath.draggable = draggable;\n    symbolPath.cursor = draggable ? 'move' : symbolPath.cursor;\n  };\n  /**\n   * Update symbol properties\n   */\n\n\n  Symbol.prototype.updateData = function (data, idx, seriesScope, opts) {\n    this.silent = false;\n    var symbolType = data.getItemVisual(idx, 'symbol') || 'circle';\n    var seriesModel = data.hostModel;\n    var symbolSize = Symbol.getSymbolSize(data, idx);\n    var isInit = symbolType !== this._symbolType;\n    var disableAnimation = opts && opts.disableAnimation;\n\n    if (isInit) {\n      var keepAspect = data.getItemVisual(idx, 'symbolKeepAspect');\n\n      this._createSymbol(symbolType, data, idx, symbolSize, keepAspect);\n    } else {\n      var symbolPath = this.childAt(0);\n      symbolPath.silent = false;\n      var target = {\n        scaleX: symbolSize[0] / 2,\n        scaleY: symbolSize[1] / 2\n      };\n      disableAnimation ? symbolPath.attr(target) : graphic.updateProps(symbolPath, target, seriesModel, idx);\n    }\n\n    this._updateCommon(data, idx, symbolSize, seriesScope, opts);\n\n    if (isInit) {\n      var symbolPath = this.childAt(0);\n\n      if (!disableAnimation) {\n        var target = {\n          scaleX: this._sizeX,\n          scaleY: this._sizeY,\n          style: {\n            // Always fadeIn. Because it has fadeOut animation when symbol is removed..\n            opacity: symbolPath.style.opacity\n          }\n        };\n        symbolPath.scaleX = symbolPath.scaleY = 0;\n        symbolPath.style.opacity = 0;\n        graphic.initProps(symbolPath, target, seriesModel, idx);\n      }\n    }\n\n    if (disableAnimation) {\n      // Must stop remove animation manually if don't call initProps or updateProps.\n      this.childAt(0).stopAnimation('remove');\n    }\n\n    this._seriesModel = seriesModel;\n  };\n\n  Symbol.prototype._updateCommon = function (data, idx, symbolSize, seriesScope, opts) {\n    var symbolPath = this.childAt(0);\n    var seriesModel = data.hostModel;\n    var emphasisItemStyle;\n    var blurItemStyle;\n    var selectItemStyle;\n    var focus;\n    var blurScope;\n    var labelStatesModels;\n    var hoverScale;\n    var cursorStyle;\n\n    if (seriesScope) {\n      emphasisItemStyle = seriesScope.emphasisItemStyle;\n      blurItemStyle = seriesScope.blurItemStyle;\n      selectItemStyle = seriesScope.selectItemStyle;\n      focus = seriesScope.focus;\n      blurScope = seriesScope.blurScope;\n      labelStatesModels = seriesScope.labelStatesModels;\n      hoverScale = seriesScope.hoverScale;\n      cursorStyle = seriesScope.cursorStyle;\n    }\n\n    if (!seriesScope || data.hasItemOption) {\n      var itemModel = seriesScope && seriesScope.itemModel ? seriesScope.itemModel : data.getItemModel(idx);\n      var emphasisModel = itemModel.getModel('emphasis');\n      emphasisItemStyle = emphasisModel.getModel('itemStyle').getItemStyle();\n      selectItemStyle = itemModel.getModel(['select', 'itemStyle']).getItemStyle();\n      blurItemStyle = itemModel.getModel(['blur', 'itemStyle']).getItemStyle();\n      focus = emphasisModel.get('focus');\n      blurScope = emphasisModel.get('blurScope');\n      labelStatesModels = getLabelStatesModels(itemModel);\n      hoverScale = emphasisModel.getShallow('scale');\n      cursorStyle = itemModel.getShallow('cursor');\n    }\n\n    var symbolRotate = data.getItemVisual(idx, 'symbolRotate');\n    symbolPath.attr('rotation', (symbolRotate || 0) * Math.PI / 180 || 0);\n    var symbolOffset = data.getItemVisual(idx, 'symbolOffset') || 0;\n\n    if (symbolOffset) {\n      if (!isArray(symbolOffset)) {\n        symbolOffset = [symbolOffset, symbolOffset];\n      }\n\n      symbolPath.x = parsePercent(symbolOffset[0], symbolSize[0]);\n      symbolPath.y = parsePercent(retrieve2(symbolOffset[1], symbolOffset[0]) || 0, symbolSize[1]);\n    }\n\n    cursorStyle && symbolPath.attr('cursor', cursorStyle);\n    var symbolStyle = data.getItemVisual(idx, 'style');\n    var visualColor = symbolStyle.fill;\n\n    if (symbolPath instanceof ZRImage) {\n      var pathStyle = symbolPath.style;\n      symbolPath.useStyle(extend({\n        // TODO other properties like x, y ?\n        image: pathStyle.image,\n        x: pathStyle.x,\n        y: pathStyle.y,\n        width: pathStyle.width,\n        height: pathStyle.height\n      }, symbolStyle));\n    } else {\n      if (symbolPath.__isEmptyBrush) {\n        // fill and stroke will be swapped if it's empty.\n        // So we cloned a new style to avoid it affecting the original style in visual storage.\n        // TODO Better implementation. No empty logic!\n        symbolPath.useStyle(extend({}, symbolStyle));\n      } else {\n        symbolPath.useStyle(symbolStyle);\n      } // Disable decal because symbol scale will been applied on the decal.\n\n\n      symbolPath.style.decal = null;\n      symbolPath.setColor(visualColor, opts && opts.symbolInnerColor);\n      symbolPath.style.strokeNoScale = true;\n    }\n\n    var liftZ = data.getItemVisual(idx, 'liftZ');\n    var z2Origin = this._z2;\n\n    if (liftZ != null) {\n      if (z2Origin == null) {\n        this._z2 = symbolPath.z2;\n        symbolPath.z2 += liftZ;\n      }\n    } else if (z2Origin != null) {\n      symbolPath.z2 = z2Origin;\n      this._z2 = null;\n    }\n\n    var useNameLabel = opts && opts.useNameLabel;\n    setLabelStyle(symbolPath, labelStatesModels, {\n      labelFetcher: seriesModel,\n      labelDataIndex: idx,\n      defaultText: getLabelDefaultText,\n      inheritColor: visualColor,\n      defaultOpacity: symbolStyle.opacity\n    }); // Do not execute util needed.\n\n    function getLabelDefaultText(idx) {\n      return useNameLabel ? data.getName(idx) : getDefaultLabel(data, idx);\n    }\n\n    this._sizeX = symbolSize[0] / 2;\n    this._sizeY = symbolSize[1] / 2;\n    var emphasisState = symbolPath.ensureState('emphasis');\n    emphasisState.style = emphasisItemStyle;\n    symbolPath.ensureState('select').style = selectItemStyle;\n    symbolPath.ensureState('blur').style = blurItemStyle;\n\n    if (hoverScale) {\n      var scaleRatio = Math.max(1.1, 3 / this._sizeY);\n      emphasisState.scaleX = this._sizeX * scaleRatio;\n      emphasisState.scaleY = this._sizeY * scaleRatio;\n    }\n\n    this.setSymbolScale(1);\n    enableHoverEmphasis(this, focus, blurScope);\n  };\n\n  Symbol.prototype.setSymbolScale = function (scale) {\n    this.scaleX = this.scaleY = scale;\n  };\n\n  Symbol.prototype.fadeOut = function (cb, opt) {\n    var symbolPath = this.childAt(0);\n    var seriesModel = this._seriesModel;\n    var dataIndex = getECData(this).dataIndex;\n    var animationOpt = opt && opt.animation; // Avoid mistaken hover when fading out\n\n    this.silent = symbolPath.silent = true; // Not show text when animating\n\n    if (opt && opt.fadeLabel) {\n      var textContent = symbolPath.getTextContent();\n\n      if (textContent) {\n        graphic.removeElement(textContent, {\n          style: {\n            opacity: 0\n          }\n        }, seriesModel, {\n          dataIndex: dataIndex,\n          removeOpt: animationOpt,\n          cb: function () {\n            symbolPath.removeTextContent();\n          }\n        });\n      }\n    } else {\n      symbolPath.removeTextContent();\n    }\n\n    graphic.removeElement(symbolPath, {\n      style: {\n        opacity: 0\n      },\n      scaleX: 0,\n      scaleY: 0\n    }, seriesModel, {\n      dataIndex: dataIndex,\n      cb: cb,\n      removeOpt: animationOpt\n    });\n  };\n\n  Symbol.getSymbolSize = function (data, idx) {\n    var symbolSize = data.getItemVisual(idx, 'symbolSize');\n    return isArray(symbolSize) ? symbolSize.slice() : [+symbolSize, +symbolSize];\n  };\n\n  return Symbol;\n}(graphic.Group);\n\nfunction driftSymbol(dx, dy) {\n  this.parent.drift(dx, dy);\n}\n\nexport default Symbol;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/*\n* A third-party license is embeded for some of the code in this file:\n* The tree layoutHelper implementation was originally copied from\n* \"d3.js\"(https://github.com/d3/d3-hierarchy) with\n* some modifications made for this project.\n* (see more details in the comment of the specific method below.)\n* The use of the source code of this file is also subject to the terms\n* and consitions of the licence of \"d3.js\" (BSD-3Clause, see\n* </licenses/LICENSE-d3>).\n*/\n\n/**\n * @file The layout algorithm of node-link tree diagrams. Here we using Reingold-Tilford algorithm to drawing\n *       the tree.\n */\nimport * as layout from '../../util/layout';\n/**\n * Initialize all computational message for following algorithm.\n */\n\nexport function init(inRoot) {\n  var root = inRoot;\n  root.hierNode = {\n    defaultAncestor: null,\n    ancestor: root,\n    prelim: 0,\n    modifier: 0,\n    change: 0,\n    shift: 0,\n    i: 0,\n    thread: null\n  };\n  var nodes = [root];\n  var node;\n  var children;\n\n  while (node = nodes.pop()) {\n    // jshint ignore:line\n    children = node.children;\n\n    if (node.isExpand && children.length) {\n      var n = children.length;\n\n      for (var i = n - 1; i >= 0; i--) {\n        var child = children[i];\n        child.hierNode = {\n          defaultAncestor: null,\n          ancestor: child,\n          prelim: 0,\n          modifier: 0,\n          change: 0,\n          shift: 0,\n          i: i,\n          thread: null\n        };\n        nodes.push(child);\n      }\n    }\n  }\n}\n/**\n * The implementation of this function was originally copied from \"d3.js\"\n * <https://github.com/d3/d3-hierarchy/blob/4c1f038f2725d6eae2e49b61d01456400694bac4/src/tree.js>\n * with some modifications made for this program.\n * See the license statement at the head of this file.\n *\n * Computes a preliminary x coordinate for node. Before that, this function is\n * applied recursively to the children of node, as well as the function\n * apportion(). After spacing out the children by calling executeShifts(), the\n * node is placed to the midpoint of its outermost children.\n */\n\nexport function firstWalk(node, separation) {\n  var children = node.isExpand ? node.children : [];\n  var siblings = node.parentNode.children;\n  var subtreeW = node.hierNode.i ? siblings[node.hierNode.i - 1] : null;\n\n  if (children.length) {\n    executeShifts(node);\n    var midPoint = (children[0].hierNode.prelim + children[children.length - 1].hierNode.prelim) / 2;\n\n    if (subtreeW) {\n      node.hierNode.prelim = subtreeW.hierNode.prelim + separation(node, subtreeW);\n      node.hierNode.modifier = node.hierNode.prelim - midPoint;\n    } else {\n      node.hierNode.prelim = midPoint;\n    }\n  } else if (subtreeW) {\n    node.hierNode.prelim = subtreeW.hierNode.prelim + separation(node, subtreeW);\n  }\n\n  node.parentNode.hierNode.defaultAncestor = apportion(node, subtreeW, node.parentNode.hierNode.defaultAncestor || siblings[0], separation);\n}\n/**\n * The implementation of this function was originally copied from \"d3.js\"\n * <https://github.com/d3/d3-hierarchy/blob/4c1f038f2725d6eae2e49b61d01456400694bac4/src/tree.js>\n * with some modifications made for this program.\n * See the license statement at the head of this file.\n *\n * Computes all real x-coordinates by summing up the modifiers recursively.\n */\n\nexport function secondWalk(node) {\n  var nodeX = node.hierNode.prelim + node.parentNode.hierNode.modifier;\n  node.setLayout({\n    x: nodeX\n  }, true);\n  node.hierNode.modifier += node.parentNode.hierNode.modifier;\n}\nexport function separation(cb) {\n  return arguments.length ? cb : defaultSeparation;\n}\n/**\n * Transform the common coordinate to radial coordinate.\n */\n\nexport function radialCoordinate(rad, r) {\n  rad -= Math.PI / 2;\n  return {\n    x: r * Math.cos(rad),\n    y: r * Math.sin(rad)\n  };\n}\n/**\n * Get the layout position of the whole view.\n */\n\nexport function getViewRect(seriesModel, api) {\n  return layout.getLayoutRect(seriesModel.getBoxLayoutParams(), {\n    width: api.getWidth(),\n    height: api.getHeight()\n  });\n}\n/**\n * All other shifts, applied to the smaller subtrees between w- and w+, are\n * performed by this function.\n *\n * The implementation of this function was originally copied from \"d3.js\"\n * <https://github.com/d3/d3-hierarchy/blob/4c1f038f2725d6eae2e49b61d01456400694bac4/src/tree.js>\n * with some modifications made for this program.\n * See the license statement at the head of this file.\n */\n\nfunction executeShifts(node) {\n  var children = node.children;\n  var n = children.length;\n  var shift = 0;\n  var change = 0;\n\n  while (--n >= 0) {\n    var child = children[n];\n    child.hierNode.prelim += shift;\n    child.hierNode.modifier += shift;\n    change += child.hierNode.change;\n    shift += child.hierNode.shift + change;\n  }\n}\n/**\n * The implementation of this function was originally copied from \"d3.js\"\n * <https://github.com/d3/d3-hierarchy/blob/4c1f038f2725d6eae2e49b61d01456400694bac4/src/tree.js>\n * with some modifications made for this program.\n * See the license statement at the head of this file.\n *\n * The core of the algorithm. Here, a new subtree is combined with the\n * previous subtrees. Threads are used to traverse the inside and outside\n * contours of the left and right subtree up to the highest common level.\n * Whenever two nodes of the inside contours conflict, we compute the left\n * one of the greatest uncommon ancestors using the function nextAncestor()\n * and call moveSubtree() to shift the subtree and prepare the shifts of\n * smaller subtrees. Finally, we add a new thread (if necessary).\n */\n\n\nfunction apportion(subtreeV, subtreeW, ancestor, separation) {\n  if (subtreeW) {\n    var nodeOutRight = subtreeV;\n    var nodeInRight = subtreeV;\n    var nodeOutLeft = nodeInRight.parentNode.children[0];\n    var nodeInLeft = subtreeW;\n    var sumOutRight = nodeOutRight.hierNode.modifier;\n    var sumInRight = nodeInRight.hierNode.modifier;\n    var sumOutLeft = nodeOutLeft.hierNode.modifier;\n    var sumInLeft = nodeInLeft.hierNode.modifier;\n\n    while (nodeInLeft = nextRight(nodeInLeft), nodeInRight = nextLeft(nodeInRight), nodeInLeft && nodeInRight) {\n      nodeOutRight = nextRight(nodeOutRight);\n      nodeOutLeft = nextLeft(nodeOutLeft);\n      nodeOutRight.hierNode.ancestor = subtreeV;\n      var shift = nodeInLeft.hierNode.prelim + sumInLeft - nodeInRight.hierNode.prelim - sumInRight + separation(nodeInLeft, nodeInRight);\n\n      if (shift > 0) {\n        moveSubtree(nextAncestor(nodeInLeft, subtreeV, ancestor), subtreeV, shift);\n        sumInRight += shift;\n        sumOutRight += shift;\n      }\n\n      sumInLeft += nodeInLeft.hierNode.modifier;\n      sumInRight += nodeInRight.hierNode.modifier;\n      sumOutRight += nodeOutRight.hierNode.modifier;\n      sumOutLeft += nodeOutLeft.hierNode.modifier;\n    }\n\n    if (nodeInLeft && !nextRight(nodeOutRight)) {\n      nodeOutRight.hierNode.thread = nodeInLeft;\n      nodeOutRight.hierNode.modifier += sumInLeft - sumOutRight;\n    }\n\n    if (nodeInRight && !nextLeft(nodeOutLeft)) {\n      nodeOutLeft.hierNode.thread = nodeInRight;\n      nodeOutLeft.hierNode.modifier += sumInRight - sumOutLeft;\n      ancestor = subtreeV;\n    }\n  }\n\n  return ancestor;\n}\n/**\n * This function is used to traverse the right contour of a subtree.\n * It returns the rightmost child of node or the thread of node. The function\n * returns null if and only if node is on the highest depth of its subtree.\n */\n\n\nfunction nextRight(node) {\n  var children = node.children;\n  return children.length && node.isExpand ? children[children.length - 1] : node.hierNode.thread;\n}\n/**\n * This function is used to traverse the left contour of a subtree (or a subforest).\n * It returns the leftmost child of node or the thread of node. The function\n * returns null if and only if node is on the highest depth of its subtree.\n */\n\n\nfunction nextLeft(node) {\n  var children = node.children;\n  return children.length && node.isExpand ? children[0] : node.hierNode.thread;\n}\n/**\n * If nodeInLeft’s ancestor is a sibling of node, returns nodeInLeft’s ancestor.\n * Otherwise, returns the specified ancestor.\n */\n\n\nfunction nextAncestor(nodeInLeft, node, ancestor) {\n  return nodeInLeft.hierNode.ancestor.parentNode === node.parentNode ? nodeInLeft.hierNode.ancestor : ancestor;\n}\n/**\n * The implementation of this function was originally copied from \"d3.js\"\n * <https://github.com/d3/d3-hierarchy/blob/4c1f038f2725d6eae2e49b61d01456400694bac4/src/tree.js>\n * with some modifications made for this program.\n * See the license statement at the head of this file.\n *\n * Shifts the current subtree rooted at wr.\n * This is done by increasing prelim(w+) and modifier(w+) by shift.\n */\n\n\nfunction moveSubtree(wl, wr, shift) {\n  var change = shift / (wr.hierNode.i - wl.hierNode.i);\n  wr.hierNode.change -= change;\n  wr.hierNode.shift += shift;\n  wr.hierNode.modifier += shift;\n  wr.hierNode.prelim += shift;\n  wl.hierNode.change += change;\n}\n/**\n * The implementation of this function was originally copied from \"d3.js\"\n * <https://github.com/d3/d3-hierarchy/blob/4c1f038f2725d6eae2e49b61d01456400694bac4/src/tree.js>\n * with some modifications made for this program.\n * See the license statement at the head of this file.\n */\n\n\nfunction defaultSeparation(node1, node2) {\n  return node1.parentNode === node2.parentNode ? 1 : 2;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\n/**\n * Simple view coordinate system\n * Mapping given x, y to transformd view x, y\n */\n\nimport * as vector from 'zrender/lib/core/vector';\nimport * as matrix from 'zrender/lib/core/matrix';\nimport BoundingRect from 'zrender/lib/core/BoundingRect';\nimport Transformable from 'zrender/lib/core/Transformable';\nvar v2ApplyTransform = vector.applyTransform;\n\nvar View =\n/** @class */\nfunction (_super) {\n  __extends(View, _super);\n\n  function View(name) {\n    var _this = _super.call(this) || this;\n\n    _this.type = 'view';\n    _this.dimensions = ['x', 'y'];\n    /**\n     * Represents the transform brought by roam/zoom.\n     * If `View['_viewRect']` applies roam transform,\n     * we can get the final displayed rect.\n     */\n\n    _this._roamTransformable = new Transformable();\n    /**\n     * Represents the transform from `View['_rect']` to `View['_viewRect']`.\n     */\n\n    _this._rawTransformable = new Transformable();\n    _this.name = name;\n    return _this;\n  }\n\n  View.prototype.setBoundingRect = function (x, y, width, height) {\n    this._rect = new BoundingRect(x, y, width, height);\n    return this._rect;\n  };\n  /**\n   * @return {module:zrender/core/BoundingRect}\n   */\n\n\n  View.prototype.getBoundingRect = function () {\n    return this._rect;\n  };\n\n  View.prototype.setViewRect = function (x, y, width, height) {\n    this._transformTo(x, y, width, height);\n\n    this._viewRect = new BoundingRect(x, y, width, height);\n  };\n  /**\n   * Transformed to particular position and size\n   */\n\n\n  View.prototype._transformTo = function (x, y, width, height) {\n    var rect = this.getBoundingRect();\n    var rawTransform = this._rawTransformable;\n    rawTransform.transform = rect.calculateTransform(new BoundingRect(x, y, width, height));\n    var rawParent = rawTransform.parent;\n    rawTransform.parent = null;\n    rawTransform.decomposeTransform();\n    rawTransform.parent = rawParent;\n\n    this._updateTransform();\n  };\n  /**\n   * Set center of view\n   */\n\n\n  View.prototype.setCenter = function (centerCoord) {\n    if (!centerCoord) {\n      return;\n    }\n\n    this._center = centerCoord;\n\n    this._updateCenterAndZoom();\n  };\n\n  View.prototype.setZoom = function (zoom) {\n    zoom = zoom || 1;\n    var zoomLimit = this.zoomLimit;\n\n    if (zoomLimit) {\n      if (zoomLimit.max != null) {\n        zoom = Math.min(zoomLimit.max, zoom);\n      }\n\n      if (zoomLimit.min != null) {\n        zoom = Math.max(zoomLimit.min, zoom);\n      }\n    }\n\n    this._zoom = zoom;\n\n    this._updateCenterAndZoom();\n  };\n  /**\n   * Get default center without roam\n   */\n\n\n  View.prototype.getDefaultCenter = function () {\n    // Rect before any transform\n    var rawRect = this.getBoundingRect();\n    var cx = rawRect.x + rawRect.width / 2;\n    var cy = rawRect.y + rawRect.height / 2;\n    return [cx, cy];\n  };\n\n  View.prototype.getCenter = function () {\n    return this._center || this.getDefaultCenter();\n  };\n\n  View.prototype.getZoom = function () {\n    return this._zoom || 1;\n  };\n\n  View.prototype.getRoamTransform = function () {\n    return this._roamTransformable.getLocalTransform();\n  };\n  /**\n   * Remove roam\n   */\n\n\n  View.prototype._updateCenterAndZoom = function () {\n    // Must update after view transform updated\n    var rawTransformMatrix = this._rawTransformable.getLocalTransform();\n\n    var roamTransform = this._roamTransformable;\n    var defaultCenter = this.getDefaultCenter();\n    var center = this.getCenter();\n    var zoom = this.getZoom();\n    center = vector.applyTransform([], center, rawTransformMatrix);\n    defaultCenter = vector.applyTransform([], defaultCenter, rawTransformMatrix);\n    roamTransform.originX = center[0];\n    roamTransform.originY = center[1];\n    roamTransform.x = defaultCenter[0] - center[0];\n    roamTransform.y = defaultCenter[1] - center[1];\n    roamTransform.scaleX = roamTransform.scaleY = zoom;\n\n    this._updateTransform();\n  };\n  /**\n   * Update transform props on `this` based on the current\n   * `this._roamTransformable` and `this._rawTransformable`.\n   */\n\n\n  View.prototype._updateTransform = function () {\n    var roamTransformable = this._roamTransformable;\n    var rawTransformable = this._rawTransformable;\n    rawTransformable.parent = roamTransformable;\n    roamTransformable.updateTransform();\n    rawTransformable.updateTransform();\n    matrix.copy(this.transform || (this.transform = []), rawTransformable.transform || matrix.create());\n    this._rawTransform = rawTransformable.getLocalTransform();\n    this.invTransform = this.invTransform || [];\n    matrix.invert(this.invTransform, this.transform);\n    this.decomposeTransform();\n  };\n\n  View.prototype.getTransformInfo = function () {\n    var rawTransformable = this._rawTransformable;\n    var roamTransformable = this._roamTransformable; // Becuase roamTransformabel has `originX/originY` modified,\n    // but the caller of `getTransformInfo` can not handle `originX/originY`,\n    // so need to recalcualte them.\n\n    var dummyTransformable = new Transformable();\n    dummyTransformable.transform = roamTransformable.transform;\n    dummyTransformable.decomposeTransform();\n    return {\n      roam: {\n        x: dummyTransformable.x,\n        y: dummyTransformable.y,\n        scaleX: dummyTransformable.scaleX,\n        scaleY: dummyTransformable.scaleY\n      },\n      raw: {\n        x: rawTransformable.x,\n        y: rawTransformable.y,\n        scaleX: rawTransformable.scaleX,\n        scaleY: rawTransformable.scaleY\n      }\n    };\n  };\n\n  View.prototype.getViewRect = function () {\n    return this._viewRect;\n  };\n  /**\n   * Get view rect after roam transform\n   */\n\n\n  View.prototype.getViewRectAfterRoam = function () {\n    var rect = this.getBoundingRect().clone();\n    rect.applyTransform(this.transform);\n    return rect;\n  };\n  /**\n   * Convert a single (lon, lat) data item to (x, y) point.\n   */\n\n\n  View.prototype.dataToPoint = function (data, noRoam, out) {\n    var transform = noRoam ? this._rawTransform : this.transform;\n    out = out || [];\n    return transform ? v2ApplyTransform(out, data, transform) : vector.copy(out, data);\n  };\n  /**\n   * Convert a (x, y) point to (lon, lat) data\n   */\n\n\n  View.prototype.pointToData = function (point) {\n    var invTransform = this.invTransform;\n    return invTransform ? v2ApplyTransform([], point, invTransform) : [point[0], point[1]];\n  };\n\n  View.prototype.convertToPixel = function (ecModel, finder, value) {\n    var coordSys = getCoordSys(finder);\n    return coordSys === this ? coordSys.dataToPoint(value) : null;\n  };\n\n  View.prototype.convertFromPixel = function (ecModel, finder, pixel) {\n    var coordSys = getCoordSys(finder);\n    return coordSys === this ? coordSys.pointToData(pixel) : null;\n  };\n  /**\n   * @implements\n   */\n\n\n  View.prototype.containPoint = function (point) {\n    return this.getViewRectAfterRoam().contain(point[0], point[1]);\n  };\n\n  View.dimensions = ['x', 'y'];\n  return View;\n}(Transformable);\n\nfunction getCoordSys(finder) {\n  var seriesModel = finder.seriesModel;\n  return seriesModel ? seriesModel.coordinateSystem : null; // e.g., graph.\n}\n\nexport default View;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * For geo and graph.\n */\nexport function updateViewOnPan(controllerHost, dx, dy) {\n  var target = controllerHost.target;\n  target.x += dx;\n  target.y += dy;\n  target.dirty();\n}\n/**\n * For geo and graph.\n */\n\nexport function updateViewOnZoom(controllerHost, zoomDelta, zoomX, zoomY) {\n  var target = controllerHost.target;\n  var zoomLimit = controllerHost.zoomLimit;\n  var newZoom = controllerHost.zoom = controllerHost.zoom || 1;\n  newZoom *= zoomDelta;\n\n  if (zoomLimit) {\n    var zoomMin = zoomLimit.min || 0;\n    var zoomMax = zoomLimit.max || Infinity;\n    newZoom = Math.max(Math.min(zoomMax, newZoom), zoomMin);\n  }\n\n  var zoomScale = newZoom / controllerHost.zoom;\n  controllerHost.zoom = newZoom; // Keep the mouse center when scaling\n\n  target.x -= (zoomX - target.x) * (zoomScale - 1);\n  target.y -= (zoomY - target.y) * (zoomScale - 1);\n  target.scaleX *= zoomScale;\n  target.scaleY *= zoomScale;\n  target.dirty();\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// @ts-nocheck\nimport * as echarts from '../../core/echarts';\nvar ATTR = '\\0_ec_interaction_mutex';\nexport function take(zr, resourceKey, userKey) {\n  var store = getStore(zr);\n  store[resourceKey] = userKey;\n}\nexport function release(zr, resourceKey, userKey) {\n  var store = getStore(zr);\n  var uKey = store[resourceKey];\n\n  if (uKey === userKey) {\n    store[resourceKey] = null;\n  }\n}\nexport function isTaken(zr, resourceKey) {\n  return !!getStore(zr)[resourceKey];\n}\n\nfunction getStore(zr) {\n  return zr[ATTR] || (zr[ATTR] = {});\n}\n/**\n * payload: {\n *     type: 'takeGlobalCursor',\n *     key: 'dataZoomSelect', or 'brush', or ...,\n *         If no userKey, release global cursor.\n * }\n */\n// TODO: SELF REGISTERED.\n\n\necharts.registerAction({\n  type: 'takeGlobalCursor',\n  event: 'globalCursorTaken',\n  update: 'update'\n}, function () {});","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport Eventful from 'zrender/lib/core/Eventful';\nimport * as eventTool from 'zrender/lib/core/event';\nimport * as interactionMutex from './interactionMutex';\nimport { isString, bind, defaults, clone } from 'zrender/lib/core/util';\n\nvar RoamController =\n/** @class */\nfunction (_super) {\n  __extends(RoamController, _super);\n\n  function RoamController(zr) {\n    var _this = _super.call(this) || this;\n\n    _this._zr = zr; // Avoid two roamController bind the same handler\n\n    var mousedownHandler = bind(_this._mousedownHandler, _this);\n    var mousemoveHandler = bind(_this._mousemoveHandler, _this);\n    var mouseupHandler = bind(_this._mouseupHandler, _this);\n    var mousewheelHandler = bind(_this._mousewheelHandler, _this);\n    var pinchHandler = bind(_this._pinchHandler, _this);\n    /**\n     * Notice: only enable needed types. For example, if 'zoom'\n     * is not needed, 'zoom' should not be enabled, otherwise\n     * default mousewheel behaviour (scroll page) will be disabled.\n     */\n\n    _this.enable = function (controlType, opt) {\n      // Disable previous first\n      this.disable();\n      this._opt = defaults(clone(opt) || {}, {\n        zoomOnMouseWheel: true,\n        moveOnMouseMove: true,\n        // By default, wheel do not trigger move.\n        moveOnMouseWheel: false,\n        preventDefaultMouseMove: true\n      });\n\n      if (controlType == null) {\n        controlType = true;\n      }\n\n      if (controlType === true || controlType === 'move' || controlType === 'pan') {\n        zr.on('mousedown', mousedownHandler);\n        zr.on('mousemove', mousemoveHandler);\n        zr.on('mouseup', mouseupHandler);\n      }\n\n      if (controlType === true || controlType === 'scale' || controlType === 'zoom') {\n        zr.on('mousewheel', mousewheelHandler);\n        zr.on('pinch', pinchHandler);\n      }\n    };\n\n    _this.disable = function () {\n      zr.off('mousedown', mousedownHandler);\n      zr.off('mousemove', mousemoveHandler);\n      zr.off('mouseup', mouseupHandler);\n      zr.off('mousewheel', mousewheelHandler);\n      zr.off('pinch', pinchHandler);\n    };\n\n    return _this;\n  }\n\n  RoamController.prototype.isDragging = function () {\n    return this._dragging;\n  };\n\n  RoamController.prototype.isPinching = function () {\n    return this._pinching;\n  };\n\n  RoamController.prototype.setPointerChecker = function (pointerChecker) {\n    this.pointerChecker = pointerChecker;\n  };\n\n  RoamController.prototype.dispose = function () {\n    this.disable();\n  };\n\n  RoamController.prototype._mousedownHandler = function (e) {\n    if (eventTool.isMiddleOrRightButtonOnMouseUpDown(e) || e.target && e.target.draggable) {\n      return;\n    }\n\n    var x = e.offsetX;\n    var y = e.offsetY; // Only check on mosedown, but not mousemove.\n    // Mouse can be out of target when mouse moving.\n\n    if (this.pointerChecker && this.pointerChecker(e, x, y)) {\n      this._x = x;\n      this._y = y;\n      this._dragging = true;\n    }\n  };\n\n  RoamController.prototype._mousemoveHandler = function (e) {\n    if (!this._dragging || !isAvailableBehavior('moveOnMouseMove', e, this._opt) || e.gestureEvent === 'pinch' || interactionMutex.isTaken(this._zr, 'globalPan')) {\n      return;\n    }\n\n    var x = e.offsetX;\n    var y = e.offsetY;\n    var oldX = this._x;\n    var oldY = this._y;\n    var dx = x - oldX;\n    var dy = y - oldY;\n    this._x = x;\n    this._y = y;\n    this._opt.preventDefaultMouseMove && eventTool.stop(e.event);\n    trigger(this, 'pan', 'moveOnMouseMove', e, {\n      dx: dx,\n      dy: dy,\n      oldX: oldX,\n      oldY: oldY,\n      newX: x,\n      newY: y,\n      isAvailableBehavior: null\n    });\n  };\n\n  RoamController.prototype._mouseupHandler = function (e) {\n    if (!eventTool.isMiddleOrRightButtonOnMouseUpDown(e)) {\n      this._dragging = false;\n    }\n  };\n\n  RoamController.prototype._mousewheelHandler = function (e) {\n    var shouldZoom = isAvailableBehavior('zoomOnMouseWheel', e, this._opt);\n    var shouldMove = isAvailableBehavior('moveOnMouseWheel', e, this._opt);\n    var wheelDelta = e.wheelDelta;\n    var absWheelDeltaDelta = Math.abs(wheelDelta);\n    var originX = e.offsetX;\n    var originY = e.offsetY; // wheelDelta maybe -0 in chrome mac.\n\n    if (wheelDelta === 0 || !shouldZoom && !shouldMove) {\n      return;\n    } // If both `shouldZoom` and `shouldMove` is true, trigger\n    // their event both, and the final behavior is determined\n    // by event listener themselves.\n\n\n    if (shouldZoom) {\n      // Convenience:\n      // Mac and VM Windows on Mac: scroll up: zoom out.\n      // Windows: scroll up: zoom in.\n      // FIXME: Should do more test in different environment.\n      // wheelDelta is too complicated in difference nvironment\n      // (https://developer.mozilla.org/en-US/docs/Web/Events/mousewheel),\n      // although it has been normallized by zrender.\n      // wheelDelta of mouse wheel is bigger than touch pad.\n      var factor = absWheelDeltaDelta > 3 ? 1.4 : absWheelDeltaDelta > 1 ? 1.2 : 1.1;\n      var scale = wheelDelta > 0 ? factor : 1 / factor;\n      checkPointerAndTrigger(this, 'zoom', 'zoomOnMouseWheel', e, {\n        scale: scale,\n        originX: originX,\n        originY: originY,\n        isAvailableBehavior: null\n      });\n    }\n\n    if (shouldMove) {\n      // FIXME: Should do more test in different environment.\n      var absDelta = Math.abs(wheelDelta); // wheelDelta of mouse wheel is bigger than touch pad.\n\n      var scrollDelta = (wheelDelta > 0 ? 1 : -1) * (absDelta > 3 ? 0.4 : absDelta > 1 ? 0.15 : 0.05);\n      checkPointerAndTrigger(this, 'scrollMove', 'moveOnMouseWheel', e, {\n        scrollDelta: scrollDelta,\n        originX: originX,\n        originY: originY,\n        isAvailableBehavior: null\n      });\n    }\n  };\n\n  RoamController.prototype._pinchHandler = function (e) {\n    if (interactionMutex.isTaken(this._zr, 'globalPan')) {\n      return;\n    }\n\n    var scale = e.pinchScale > 1 ? 1.1 : 1 / 1.1;\n    checkPointerAndTrigger(this, 'zoom', null, e, {\n      scale: scale,\n      originX: e.pinchX,\n      originY: e.pinchY,\n      isAvailableBehavior: null\n    });\n  };\n\n  return RoamController;\n}(Eventful);\n\nfunction checkPointerAndTrigger(controller, eventName, behaviorToCheck, e, contollerEvent) {\n  if (controller.pointerChecker && controller.pointerChecker(e, contollerEvent.originX, contollerEvent.originY)) {\n    // When mouse is out of roamController rect,\n    // default befavoius should not be be disabled, otherwise\n    // page sliding is disabled, contrary to expectation.\n    eventTool.stop(e.event);\n    trigger(controller, eventName, behaviorToCheck, e, contollerEvent);\n  }\n}\n\nfunction trigger(controller, eventName, behaviorToCheck, e, contollerEvent) {\n  // Also provide behavior checker for event listener, for some case that\n  // multiple components share one listener.\n  contollerEvent.isAvailableBehavior = bind(isAvailableBehavior, null, behaviorToCheck, e);\n  controller.trigger(eventName, contollerEvent);\n} // settings: {\n//     zoomOnMouseWheel\n//     moveOnMouseMove\n//     moveOnMouseWheel\n// }\n// The value can be: true / false / 'shift' / 'ctrl' / 'alt'.\n\n\nfunction isAvailableBehavior(behaviorToCheck, e, settings) {\n  var setting = settings[behaviorToCheck];\n  return !behaviorToCheck || setting && (!isString(setting) || e.event[setting + 'Key']);\n}\n\nexport default RoamController;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar IRRELEVANT_EXCLUDES = {\n  'axisPointer': 1,\n  'tooltip': 1,\n  'brush': 1\n};\n/**\n * Avoid that: mouse click on a elements that is over geo or graph,\n * but roam is triggered.\n */\n\nexport function onIrrelevantElement(e, api, targetCoordSysModel) {\n  var model = api.getComponentByElement(e.topTarget); // If model is axisModel, it works only if it is injected with coordinateSystem.\n\n  var coordSys = model && model.coordinateSystem;\n  return model && model !== targetCoordSysModel && !IRRELEVANT_EXCLUDES.hasOwnProperty(model.mainType) && coordSys && coordSys.model !== targetCoordSysModel;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util';\nimport * as graphic from '../../util/graphic';\nimport { getECData } from '../../util/innerStore';\nimport SymbolClz from '../helper/Symbol';\nimport { radialCoordinate } from './layoutHelper';\nimport * as bbox from 'zrender/lib/core/bbox';\nimport View from '../../coord/View';\nimport * as roamHelper from '../../component/helper/roamHelper';\nimport RoamController from '../../component/helper/RoamController';\nimport { onIrrelevantElement } from '../../component/helper/cursorHelper';\nimport { parsePercent } from '../../util/number';\nimport ChartView from '../../view/Chart';\nimport Path from 'zrender/lib/graphic/Path';\nimport { setStatesStylesFromModel, setStatesFlag, setDefaultStateProxy, HOVER_STATE_BLUR } from '../../util/states';\n\nvar TreeEdgeShape =\n/** @class */\nfunction () {\n  function TreeEdgeShape() {\n    this.parentPoint = [];\n    this.childPoints = [];\n  }\n\n  return TreeEdgeShape;\n}();\n\nvar TreePath =\n/** @class */\nfunction (_super) {\n  __extends(TreePath, _super);\n\n  function TreePath(opts) {\n    return _super.call(this, opts) || this;\n  }\n\n  TreePath.prototype.getDefaultStyle = function () {\n    return {\n      stroke: '#000',\n      fill: null\n    };\n  };\n\n  TreePath.prototype.getDefaultShape = function () {\n    return new TreeEdgeShape();\n  };\n\n  TreePath.prototype.buildPath = function (ctx, shape) {\n    var childPoints = shape.childPoints;\n    var childLen = childPoints.length;\n    var parentPoint = shape.parentPoint;\n    var firstChildPos = childPoints[0];\n    var lastChildPos = childPoints[childLen - 1];\n\n    if (childLen === 1) {\n      ctx.moveTo(parentPoint[0], parentPoint[1]);\n      ctx.lineTo(firstChildPos[0], firstChildPos[1]);\n      return;\n    }\n\n    var orient = shape.orient;\n    var forkDim = orient === 'TB' || orient === 'BT' ? 0 : 1;\n    var otherDim = 1 - forkDim;\n    var forkPosition = parsePercent(shape.forkPosition, 1);\n    var tmpPoint = [];\n    tmpPoint[forkDim] = parentPoint[forkDim];\n    tmpPoint[otherDim] = parentPoint[otherDim] + (lastChildPos[otherDim] - parentPoint[otherDim]) * forkPosition;\n    ctx.moveTo(parentPoint[0], parentPoint[1]);\n    ctx.lineTo(tmpPoint[0], tmpPoint[1]);\n    ctx.moveTo(firstChildPos[0], firstChildPos[1]);\n    tmpPoint[forkDim] = firstChildPos[forkDim];\n    ctx.lineTo(tmpPoint[0], tmpPoint[1]);\n    tmpPoint[forkDim] = lastChildPos[forkDim];\n    ctx.lineTo(tmpPoint[0], tmpPoint[1]);\n    ctx.lineTo(lastChildPos[0], lastChildPos[1]);\n\n    for (var i = 1; i < childLen - 1; i++) {\n      var point = childPoints[i];\n      ctx.moveTo(point[0], point[1]);\n      tmpPoint[forkDim] = point[forkDim];\n      ctx.lineTo(tmpPoint[0], tmpPoint[1]);\n    }\n  };\n\n  return TreePath;\n}(Path);\n\nvar TreeView =\n/** @class */\nfunction (_super) {\n  __extends(TreeView, _super);\n\n  function TreeView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = TreeView.type;\n    _this._mainGroup = new graphic.Group();\n    return _this;\n  }\n\n  TreeView.prototype.init = function (ecModel, api) {\n    this._controller = new RoamController(api.getZr());\n    this._controllerHost = {\n      target: this.group\n    };\n    this.group.add(this._mainGroup);\n  };\n\n  TreeView.prototype.render = function (seriesModel, ecModel, api) {\n    var data = seriesModel.getData();\n    var layoutInfo = seriesModel.layoutInfo;\n    var group = this._mainGroup;\n    var layout = seriesModel.get('layout');\n\n    if (layout === 'radial') {\n      group.x = layoutInfo.x + layoutInfo.width / 2;\n      group.y = layoutInfo.y + layoutInfo.height / 2;\n    } else {\n      group.x = layoutInfo.x;\n      group.y = layoutInfo.y;\n    }\n\n    this._updateViewCoordSys(seriesModel);\n\n    this._updateController(seriesModel, ecModel, api);\n\n    var oldData = this._data;\n    data.diff(oldData).add(function (newIdx) {\n      if (symbolNeedsDraw(data, newIdx)) {\n        // Create node and edge\n        updateNode(data, newIdx, null, group, seriesModel);\n      }\n    }).update(function (newIdx, oldIdx) {\n      var symbolEl = oldData.getItemGraphicEl(oldIdx);\n\n      if (!symbolNeedsDraw(data, newIdx)) {\n        symbolEl && removeNode(oldData, oldIdx, symbolEl, group, seriesModel);\n        return;\n      } // Update node and edge\n\n\n      updateNode(data, newIdx, symbolEl, group, seriesModel);\n    }).remove(function (oldIdx) {\n      var symbolEl = oldData.getItemGraphicEl(oldIdx); // When remove a collapsed node of subtree, since the collapsed\n      // node haven't been initialized with a symbol element,\n      // you can't found it's symbol element through index.\n      // so if we want to remove the symbol element we should insure\n      // that the symbol element is not null.\n\n      if (symbolEl) {\n        removeNode(oldData, oldIdx, symbolEl, group, seriesModel);\n      }\n    }).execute();\n    this._nodeScaleRatio = seriesModel.get('nodeScaleRatio');\n\n    this._updateNodeAndLinkScale(seriesModel);\n\n    if (seriesModel.get('expandAndCollapse') === true) {\n      data.eachItemGraphicEl(function (el, dataIndex) {\n        el.off('click').on('click', function () {\n          api.dispatchAction({\n            type: 'treeExpandAndCollapse',\n            seriesId: seriesModel.id,\n            dataIndex: dataIndex\n          });\n        });\n      });\n    }\n\n    this._data = data;\n  };\n\n  TreeView.prototype._updateViewCoordSys = function (seriesModel) {\n    var data = seriesModel.getData();\n    var points = [];\n    data.each(function (idx) {\n      var layout = data.getItemLayout(idx);\n\n      if (layout && !isNaN(layout.x) && !isNaN(layout.y)) {\n        points.push([+layout.x, +layout.y]);\n      }\n    });\n    var min = [];\n    var max = [];\n    bbox.fromPoints(points, min, max); // If don't Store min max when collapse the root node after roam,\n    // the root node will disappear.\n\n    var oldMin = this._min;\n    var oldMax = this._max; // If width or height is 0\n\n    if (max[0] - min[0] === 0) {\n      min[0] = oldMin ? oldMin[0] : min[0] - 1;\n      max[0] = oldMax ? oldMax[0] : max[0] + 1;\n    }\n\n    if (max[1] - min[1] === 0) {\n      min[1] = oldMin ? oldMin[1] : min[1] - 1;\n      max[1] = oldMax ? oldMax[1] : max[1] + 1;\n    }\n\n    var viewCoordSys = seriesModel.coordinateSystem = new View();\n    viewCoordSys.zoomLimit = seriesModel.get('scaleLimit');\n    viewCoordSys.setBoundingRect(min[0], min[1], max[0] - min[0], max[1] - min[1]);\n    viewCoordSys.setCenter(seriesModel.get('center'));\n    viewCoordSys.setZoom(seriesModel.get('zoom')); // Here we use viewCoordSys just for computing the 'position' and 'scale' of the group\n\n    this.group.attr({\n      x: viewCoordSys.x,\n      y: viewCoordSys.y,\n      scaleX: viewCoordSys.scaleX,\n      scaleY: viewCoordSys.scaleY\n    });\n    this._min = min;\n    this._max = max;\n  };\n\n  TreeView.prototype._updateController = function (seriesModel, ecModel, api) {\n    var _this = this;\n\n    var controller = this._controller;\n    var controllerHost = this._controllerHost;\n    var group = this.group;\n    controller.setPointerChecker(function (e, x, y) {\n      var rect = group.getBoundingRect();\n      rect.applyTransform(group.transform);\n      return rect.contain(x, y) && !onIrrelevantElement(e, api, seriesModel);\n    });\n    controller.enable(seriesModel.get('roam'));\n    controllerHost.zoomLimit = seriesModel.get('scaleLimit');\n    controllerHost.zoom = seriesModel.coordinateSystem.getZoom();\n    controller.off('pan').off('zoom').on('pan', function (e) {\n      roamHelper.updateViewOnPan(controllerHost, e.dx, e.dy);\n      api.dispatchAction({\n        seriesId: seriesModel.id,\n        type: 'treeRoam',\n        dx: e.dx,\n        dy: e.dy\n      });\n    }).on('zoom', function (e) {\n      roamHelper.updateViewOnZoom(controllerHost, e.scale, e.originX, e.originY);\n      api.dispatchAction({\n        seriesId: seriesModel.id,\n        type: 'treeRoam',\n        zoom: e.scale,\n        originX: e.originX,\n        originY: e.originY\n      });\n\n      _this._updateNodeAndLinkScale(seriesModel); // Only update label layout on zoom\n\n\n      api.updateLabelLayout();\n    });\n  };\n\n  TreeView.prototype._updateNodeAndLinkScale = function (seriesModel) {\n    var data = seriesModel.getData();\n\n    var nodeScale = this._getNodeGlobalScale(seriesModel);\n\n    data.eachItemGraphicEl(function (el, idx) {\n      el.setSymbolScale(nodeScale);\n    });\n  };\n\n  TreeView.prototype._getNodeGlobalScale = function (seriesModel) {\n    var coordSys = seriesModel.coordinateSystem;\n\n    if (coordSys.type !== 'view') {\n      return 1;\n    }\n\n    var nodeScaleRatio = this._nodeScaleRatio;\n    var groupZoom = coordSys.scaleX || 1; // Scale node when zoom changes\n\n    var roamZoom = coordSys.getZoom();\n    var nodeScale = (roamZoom - 1) * nodeScaleRatio + 1;\n    return nodeScale / groupZoom;\n  };\n\n  TreeView.prototype.dispose = function () {\n    this._controller && this._controller.dispose();\n    this._controllerHost = null;\n  };\n\n  TreeView.prototype.remove = function () {\n    this._mainGroup.removeAll();\n\n    this._data = null;\n  };\n\n  TreeView.type = 'tree';\n  return TreeView;\n}(ChartView);\n\nfunction symbolNeedsDraw(data, dataIndex) {\n  var layout = data.getItemLayout(dataIndex);\n  return layout && !isNaN(layout.x) && !isNaN(layout.y);\n}\n\nfunction updateNode(data, dataIndex, symbolEl, group, seriesModel) {\n  var isInit = !symbolEl;\n  var node = data.tree.getNodeByDataIndex(dataIndex);\n  var itemModel = node.getModel();\n  var visualColor = node.getVisual('style').fill;\n  var symbolInnerColor = node.isExpand === false && node.children.length !== 0 ? visualColor : '#fff';\n  var virtualRoot = data.tree.root;\n  var source = node.parentNode === virtualRoot ? node : node.parentNode || node;\n  var sourceSymbolEl = data.getItemGraphicEl(source.dataIndex);\n  var sourceLayout = source.getLayout();\n  var sourceOldLayout = sourceSymbolEl ? {\n    x: sourceSymbolEl.__oldX,\n    y: sourceSymbolEl.__oldY,\n    rawX: sourceSymbolEl.__radialOldRawX,\n    rawY: sourceSymbolEl.__radialOldRawY\n  } : sourceLayout;\n  var targetLayout = node.getLayout();\n\n  if (isInit) {\n    symbolEl = new SymbolClz(data, dataIndex, null, {\n      symbolInnerColor: symbolInnerColor,\n      useNameLabel: true\n    });\n    symbolEl.x = sourceOldLayout.x;\n    symbolEl.y = sourceOldLayout.y;\n  } else {\n    symbolEl.updateData(data, dataIndex, null, {\n      symbolInnerColor: symbolInnerColor,\n      useNameLabel: true\n    });\n  }\n\n  symbolEl.__radialOldRawX = symbolEl.__radialRawX;\n  symbolEl.__radialOldRawY = symbolEl.__radialRawY;\n  symbolEl.__radialRawX = targetLayout.rawX;\n  symbolEl.__radialRawY = targetLayout.rawY;\n  group.add(symbolEl);\n  data.setItemGraphicEl(dataIndex, symbolEl);\n  symbolEl.__oldX = symbolEl.x;\n  symbolEl.__oldY = symbolEl.y;\n  graphic.updateProps(symbolEl, {\n    x: targetLayout.x,\n    y: targetLayout.y\n  }, seriesModel);\n  var symbolPath = symbolEl.getSymbolPath();\n\n  if (seriesModel.get('layout') === 'radial') {\n    var realRoot = virtualRoot.children[0];\n    var rootLayout = realRoot.getLayout();\n    var length_1 = realRoot.children.length;\n    var rad = void 0;\n    var isLeft = void 0;\n\n    if (targetLayout.x === rootLayout.x && node.isExpand === true) {\n      var center = {\n        x: (realRoot.children[0].getLayout().x + realRoot.children[length_1 - 1].getLayout().x) / 2,\n        y: (realRoot.children[0].getLayout().y + realRoot.children[length_1 - 1].getLayout().y) / 2\n      };\n      rad = Math.atan2(center.y - rootLayout.y, center.x - rootLayout.x);\n\n      if (rad < 0) {\n        rad = Math.PI * 2 + rad;\n      }\n\n      isLeft = center.x < rootLayout.x;\n\n      if (isLeft) {\n        rad = rad - Math.PI;\n      }\n    } else {\n      rad = Math.atan2(targetLayout.y - rootLayout.y, targetLayout.x - rootLayout.x);\n\n      if (rad < 0) {\n        rad = Math.PI * 2 + rad;\n      }\n\n      if (node.children.length === 0 || node.children.length !== 0 && node.isExpand === false) {\n        isLeft = targetLayout.x < rootLayout.x;\n\n        if (isLeft) {\n          rad = rad - Math.PI;\n        }\n      } else {\n        isLeft = targetLayout.x > rootLayout.x;\n\n        if (!isLeft) {\n          rad = rad - Math.PI;\n        }\n      }\n    }\n\n    var textPosition = isLeft ? 'left' : 'right';\n    var normalLabelModel = itemModel.getModel('label');\n    var rotate = normalLabelModel.get('rotate');\n    var labelRotateRadian = rotate * (Math.PI / 180);\n    var textContent = symbolPath.getTextContent();\n\n    if (textContent) {\n      symbolPath.setTextConfig({\n        position: normalLabelModel.get('position') || textPosition,\n        rotation: rotate == null ? -rad : labelRotateRadian,\n        origin: 'center'\n      });\n      textContent.setStyle('verticalAlign', 'middle');\n    }\n  } // Handle status\n\n\n  var focus = itemModel.get(['emphasis', 'focus']);\n  var focusDataIndices = focus === 'ancestor' ? node.getAncestorsIndices() : focus === 'descendant' ? node.getDescendantIndices() : null;\n\n  if (focusDataIndices) {\n    // Modify the focus to data indices.\n    getECData(symbolEl).focus = focusDataIndices;\n  }\n\n  drawEdge(seriesModel, node, virtualRoot, symbolEl, sourceOldLayout, sourceLayout, targetLayout, group);\n\n  if (symbolEl.__edge) {\n    symbolEl.onHoverStateChange = function (toState) {\n      if (toState !== 'blur') {\n        // NOTE: Ensure the parent elements will been blurred firstly.\n        // According to the return of getAncestorsIndices and getDescendantIndices\n        // TODO: A bit tricky.\n        var parentEl = node.parentNode && data.getItemGraphicEl(node.parentNode.dataIndex);\n\n        if (!(parentEl && parentEl.hoverState === HOVER_STATE_BLUR)) {\n          setStatesFlag(symbolEl.__edge, toState);\n        }\n      }\n    };\n  }\n}\n\nfunction drawEdge(seriesModel, node, virtualRoot, symbolEl, sourceOldLayout, sourceLayout, targetLayout, group) {\n  var itemModel = node.getModel();\n  var edgeShape = seriesModel.get('edgeShape');\n  var layout = seriesModel.get('layout');\n  var orient = seriesModel.getOrient();\n  var curvature = seriesModel.get(['lineStyle', 'curveness']);\n  var edgeForkPosition = seriesModel.get('edgeForkPosition');\n  var lineStyle = itemModel.getModel('lineStyle').getLineStyle();\n  var edge = symbolEl.__edge;\n\n  if (edgeShape === 'curve') {\n    if (node.parentNode && node.parentNode !== virtualRoot) {\n      if (!edge) {\n        edge = symbolEl.__edge = new graphic.BezierCurve({\n          shape: getEdgeShape(layout, orient, curvature, sourceOldLayout, sourceOldLayout)\n        });\n      }\n\n      graphic.updateProps(edge, {\n        shape: getEdgeShape(layout, orient, curvature, sourceLayout, targetLayout)\n      }, seriesModel);\n    }\n  } else if (edgeShape === 'polyline') {\n    if (layout === 'orthogonal') {\n      if (node !== virtualRoot && node.children && node.children.length !== 0 && node.isExpand === true) {\n        var children = node.children;\n        var childPoints = [];\n\n        for (var i = 0; i < children.length; i++) {\n          var childLayout = children[i].getLayout();\n          childPoints.push([childLayout.x, childLayout.y]);\n        }\n\n        if (!edge) {\n          edge = symbolEl.__edge = new TreePath({\n            shape: {\n              parentPoint: [targetLayout.x, targetLayout.y],\n              childPoints: [[targetLayout.x, targetLayout.y]],\n              orient: orient,\n              forkPosition: edgeForkPosition\n            }\n          });\n        }\n\n        graphic.updateProps(edge, {\n          shape: {\n            parentPoint: [targetLayout.x, targetLayout.y],\n            childPoints: childPoints\n          }\n        }, seriesModel);\n      }\n    } else {\n      if (process.env.NODE_ENV !== 'production') {\n        throw new Error('The polyline edgeShape can only be used in orthogonal layout');\n      }\n    }\n  }\n\n  if (edge) {\n    edge.useStyle(zrUtil.defaults({\n      strokeNoScale: true,\n      fill: null\n    }, lineStyle));\n    setStatesStylesFromModel(edge, itemModel, 'lineStyle');\n    setDefaultStateProxy(edge);\n    group.add(edge);\n  }\n}\n\nfunction removeNode(data, dataIndex, symbolEl, group, seriesModel) {\n  var node = data.tree.getNodeByDataIndex(dataIndex);\n  var virtualRoot = data.tree.root;\n  var source = node.parentNode === virtualRoot ? node : node.parentNode || node; // let edgeShape = seriesScope.edgeShape;\n\n  var sourceLayout;\n\n  while (sourceLayout = source.getLayout(), sourceLayout == null) {\n    source = source.parentNode === virtualRoot ? source : source.parentNode || source;\n  } // Use same duration and easing with update to have more consistent animation.\n\n\n  var removeAnimationOpt = {\n    duration: seriesModel.get('animationDurationUpdate'),\n    easing: seriesModel.get('animationEasingUpdate')\n  };\n  graphic.removeElement(symbolEl, {\n    x: sourceLayout.x + 1,\n    y: sourceLayout.y + 1\n  }, seriesModel, {\n    cb: function () {\n      group.remove(symbolEl);\n      data.setItemGraphicEl(dataIndex, null);\n    },\n    removeOpt: removeAnimationOpt\n  });\n  symbolEl.fadeOut(null, {\n    fadeLabel: true,\n    animation: removeAnimationOpt\n  });\n  var sourceSymbolEl = data.getItemGraphicEl(source.dataIndex);\n  var sourceEdge = sourceSymbolEl.__edge; // 1. when expand the sub tree, delete the children node should delete the edge of\n  // the source at the same time. because the polyline edge shape is only owned by the source.\n  // 2.when the node is the only children of the source, delete the node should delete the edge of\n  // the source at the same time. the same reason as above.\n\n  var edge = symbolEl.__edge || (source.isExpand === false || source.children.length === 1 ? sourceEdge : undefined);\n  var edgeShape = seriesModel.get('edgeShape');\n  var layoutOpt = seriesModel.get('layout');\n  var orient = seriesModel.get('orient');\n  var curvature = seriesModel.get(['lineStyle', 'curveness']);\n\n  if (edge) {\n    if (edgeShape === 'curve') {\n      graphic.removeElement(edge, {\n        shape: getEdgeShape(layoutOpt, orient, curvature, sourceLayout, sourceLayout),\n        style: {\n          opacity: 0\n        }\n      }, seriesModel, {\n        cb: function () {\n          group.remove(edge);\n        },\n        removeOpt: removeAnimationOpt\n      });\n    } else if (edgeShape === 'polyline' && seriesModel.get('layout') === 'orthogonal') {\n      graphic.removeElement(edge, {\n        shape: {\n          parentPoint: [sourceLayout.x, sourceLayout.y],\n          childPoints: [[sourceLayout.x, sourceLayout.y]]\n        },\n        style: {\n          opacity: 0\n        }\n      }, seriesModel, {\n        cb: function () {\n          group.remove(edge);\n        },\n        removeOpt: removeAnimationOpt\n      });\n    }\n  }\n}\n\nfunction getEdgeShape(layoutOpt, orient, curvature, sourceLayout, targetLayout) {\n  var cpx1;\n  var cpy1;\n  var cpx2;\n  var cpy2;\n  var x1;\n  var x2;\n  var y1;\n  var y2;\n\n  if (layoutOpt === 'radial') {\n    x1 = sourceLayout.rawX;\n    y1 = sourceLayout.rawY;\n    x2 = targetLayout.rawX;\n    y2 = targetLayout.rawY;\n    var radialCoor1 = radialCoordinate(x1, y1);\n    var radialCoor2 = radialCoordinate(x1, y1 + (y2 - y1) * curvature);\n    var radialCoor3 = radialCoordinate(x2, y2 + (y1 - y2) * curvature);\n    var radialCoor4 = radialCoordinate(x2, y2);\n    return {\n      x1: radialCoor1.x || 0,\n      y1: radialCoor1.y || 0,\n      x2: radialCoor4.x || 0,\n      y2: radialCoor4.y || 0,\n      cpx1: radialCoor2.x || 0,\n      cpy1: radialCoor2.y || 0,\n      cpx2: radialCoor3.x || 0,\n      cpy2: radialCoor3.y || 0\n    };\n  } else {\n    x1 = sourceLayout.x;\n    y1 = sourceLayout.y;\n    x2 = targetLayout.x;\n    y2 = targetLayout.y;\n\n    if (orient === 'LR' || orient === 'RL') {\n      cpx1 = x1 + (x2 - x1) * curvature;\n      cpy1 = y1;\n      cpx2 = x2 + (x1 - x2) * curvature;\n      cpy2 = y2;\n    }\n\n    if (orient === 'TB' || orient === 'BT') {\n      cpx1 = x1;\n      cpy1 = y1 + (y2 - y1) * curvature;\n      cpx2 = x2;\n      cpy2 = y2 + (y1 - y2) * curvature;\n    }\n  }\n\n  return {\n    x1: x1,\n    y1: y1,\n    x2: x2,\n    y2: y2,\n    cpx1: cpx1,\n    cpy1: cpy1,\n    cpx2: cpx2,\n    cpy2: cpy2\n  };\n}\n\nexport default TreeView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * Link lists and struct (graph or tree)\n */\nimport { curry, each, assert, extend, map, keys } from 'zrender/lib/core/util';\nimport { makeInner } from '../../util/model';\nvar inner = makeInner();\n\nfunction linkList(opt) {\n  var mainData = opt.mainData;\n  var datas = opt.datas;\n\n  if (!datas) {\n    datas = {\n      main: mainData\n    };\n    opt.datasAttr = {\n      main: 'data'\n    };\n  }\n\n  opt.datas = opt.mainData = null;\n  linkAll(mainData, datas, opt); // Porxy data original methods.\n\n  each(datas, function (data) {\n    each(mainData.TRANSFERABLE_METHODS, function (methodName) {\n      data.wrapMethod(methodName, curry(transferInjection, opt));\n    });\n  }); // Beyond transfer, additional features should be added to `cloneShallow`.\n\n  mainData.wrapMethod('cloneShallow', curry(cloneShallowInjection, opt)); // Only mainData trigger change, because struct.update may trigger\n  // another changable methods, which may bring about dead lock.\n\n  each(mainData.CHANGABLE_METHODS, function (methodName) {\n    mainData.wrapMethod(methodName, curry(changeInjection, opt));\n  }); // Make sure datas contains mainData.\n\n  assert(datas[mainData.dataType] === mainData);\n}\n\nfunction transferInjection(opt, res) {\n  if (isMainData(this)) {\n    // Transfer datas to new main data.\n    var datas = extend({}, inner(this).datas);\n    datas[this.dataType] = res;\n    linkAll(res, datas, opt);\n  } else {\n    // Modify the reference in main data to point newData.\n    linkSingle(res, this.dataType, inner(this).mainData, opt);\n  }\n\n  return res;\n}\n\nfunction changeInjection(opt, res) {\n  opt.struct && opt.struct.update();\n  return res;\n}\n\nfunction cloneShallowInjection(opt, res) {\n  // cloneShallow, which brings about some fragilities, may be inappropriate\n  // to be exposed as an API. So for implementation simplicity we can make\n  // the restriction that cloneShallow of not-mainData should not be invoked\n  // outside, but only be invoked here.\n  each(inner(res).datas, function (data, dataType) {\n    data !== res && linkSingle(data.cloneShallow(), dataType, res, opt);\n  });\n  return res;\n}\n/**\n * Supplement method to List.\n *\n * @public\n * @param [dataType] If not specified, return mainData.\n */\n\n\nfunction getLinkedData(dataType) {\n  var mainData = inner(this).mainData;\n  return dataType == null || mainData == null ? mainData : inner(mainData).datas[dataType];\n}\n/**\n * Get list of all linked data\n */\n\n\nfunction getLinkedDataAll() {\n  var mainData = inner(this).mainData;\n  return mainData == null ? [{\n    data: mainData\n  }] : map(keys(inner(mainData).datas), function (type) {\n    return {\n      type: type,\n      data: inner(mainData).datas[type]\n    };\n  });\n}\n\nfunction isMainData(data) {\n  return inner(data).mainData === data;\n}\n\nfunction linkAll(mainData, datas, opt) {\n  inner(mainData).datas = {};\n  each(datas, function (data, dataType) {\n    linkSingle(data, dataType, mainData, opt);\n  });\n}\n\nfunction linkSingle(data, dataType, mainData, opt) {\n  inner(mainData).datas[dataType] = data;\n  inner(data).mainData = mainData;\n  data.dataType = dataType;\n\n  if (opt.struct) {\n    data[opt.structAttr] = opt.struct;\n    opt.struct[opt.datasAttr[dataType]] = data;\n  } // Supplement method.\n\n\n  data.getLinkedData = getLinkedData;\n  data.getLinkedDataAll = getLinkedDataAll;\n}\n\nexport default linkList;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * Tree data structure\n */\nimport * as zrUtil from 'zrender/lib/core/util';\nimport linkList from './helper/linkList';\nimport List from './List';\nimport createDimensions from './helper/createDimensions';\nimport { convertOptionIdName } from '../util/model';\n\nvar TreeNode =\n/** @class */\nfunction () {\n  function TreeNode(name, hostTree) {\n    this.depth = 0;\n    this.height = 0;\n    /**\n     * Reference to list item.\n     * Do not persistent dataIndex outside,\n     * besause it may be changed by list.\n     * If dataIndex -1,\n     * this node is logical deleted (filtered) in list.\n     */\n\n    this.dataIndex = -1;\n    this.children = [];\n    this.viewChildren = [];\n    this.isExpand = false;\n    this.name = name || '';\n    this.hostTree = hostTree;\n  }\n  /**\n   * The node is removed.\n   */\n\n\n  TreeNode.prototype.isRemoved = function () {\n    return this.dataIndex < 0;\n  };\n\n  TreeNode.prototype.eachNode = function (options, cb, context) {\n    if (typeof options === 'function') {\n      context = cb;\n      cb = options;\n      options = null;\n    }\n\n    options = options || {};\n\n    if (zrUtil.isString(options)) {\n      options = {\n        order: options\n      };\n    }\n\n    var order = options.order || 'preorder';\n    var children = this[options.attr || 'children'];\n    var suppressVisitSub;\n    order === 'preorder' && (suppressVisitSub = cb.call(context, this));\n\n    for (var i = 0; !suppressVisitSub && i < children.length; i++) {\n      children[i].eachNode(options, cb, context);\n    }\n\n    order === 'postorder' && cb.call(context, this);\n  };\n  /**\n   * Update depth and height of this subtree.\n   */\n\n\n  TreeNode.prototype.updateDepthAndHeight = function (depth) {\n    var height = 0;\n    this.depth = depth;\n\n    for (var i = 0; i < this.children.length; i++) {\n      var child = this.children[i];\n      child.updateDepthAndHeight(depth + 1);\n\n      if (child.height > height) {\n        height = child.height;\n      }\n    }\n\n    this.height = height + 1;\n  };\n\n  TreeNode.prototype.getNodeById = function (id) {\n    if (this.getId() === id) {\n      return this;\n    }\n\n    for (var i = 0, children = this.children, len = children.length; i < len; i++) {\n      var res = children[i].getNodeById(id);\n\n      if (res) {\n        return res;\n      }\n    }\n  };\n\n  TreeNode.prototype.contains = function (node) {\n    if (node === this) {\n      return true;\n    }\n\n    for (var i = 0, children = this.children, len = children.length; i < len; i++) {\n      var res = children[i].contains(node);\n\n      if (res) {\n        return res;\n      }\n    }\n  };\n  /**\n   * @param includeSelf Default false.\n   * @return order: [root, child, grandchild, ...]\n   */\n\n\n  TreeNode.prototype.getAncestors = function (includeSelf) {\n    var ancestors = [];\n    var node = includeSelf ? this : this.parentNode;\n\n    while (node) {\n      ancestors.push(node);\n      node = node.parentNode;\n    }\n\n    ancestors.reverse();\n    return ancestors;\n  };\n\n  TreeNode.prototype.getAncestorsIndices = function () {\n    var indices = [];\n    var currNode = this;\n\n    while (currNode) {\n      indices.push(currNode.dataIndex);\n      currNode = currNode.parentNode;\n    }\n\n    indices.reverse();\n    return indices;\n  };\n\n  TreeNode.prototype.getDescendantIndices = function () {\n    var indices = [];\n    this.eachNode(function (childNode) {\n      indices.push(childNode.dataIndex);\n    });\n    return indices;\n  };\n\n  TreeNode.prototype.getValue = function (dimension) {\n    var data = this.hostTree.data;\n    return data.get(data.getDimension(dimension || 'value'), this.dataIndex);\n  };\n\n  TreeNode.prototype.setLayout = function (layout, merge) {\n    this.dataIndex >= 0 && this.hostTree.data.setItemLayout(this.dataIndex, layout, merge);\n  };\n  /**\n   * @return {Object} layout\n   */\n\n\n  TreeNode.prototype.getLayout = function () {\n    return this.hostTree.data.getItemLayout(this.dataIndex);\n  }; // @depcrecated\n  // getModel<T = unknown, S extends keyof T = keyof T>(path: S): Model<T[S]>\n\n\n  TreeNode.prototype.getModel = function (path) {\n    if (this.dataIndex < 0) {\n      return;\n    }\n\n    var hostTree = this.hostTree;\n    var itemModel = hostTree.data.getItemModel(this.dataIndex);\n    return itemModel.getModel(path);\n  }; // TODO: TYPE More specific model\n\n\n  TreeNode.prototype.getLevelModel = function () {\n    return (this.hostTree.levelModels || [])[this.depth];\n  };\n\n  TreeNode.prototype.setVisual = function (key, value) {\n    this.dataIndex >= 0 && this.hostTree.data.setItemVisual(this.dataIndex, key, value);\n  };\n  /**\n   * Get item visual\n   * FIXME: make return type better\n   */\n\n\n  TreeNode.prototype.getVisual = function (key) {\n    return this.hostTree.data.getItemVisual(this.dataIndex, key);\n  };\n\n  TreeNode.prototype.getRawIndex = function () {\n    return this.hostTree.data.getRawIndex(this.dataIndex);\n  };\n\n  TreeNode.prototype.getId = function () {\n    return this.hostTree.data.getId(this.dataIndex);\n  };\n  /**\n   * if this is an ancestor of another node\n   *\n   * @param node another node\n   * @return if is ancestor\n   */\n\n\n  TreeNode.prototype.isAncestorOf = function (node) {\n    var parent = node.parentNode;\n\n    while (parent) {\n      if (parent === this) {\n        return true;\n      }\n\n      parent = parent.parentNode;\n    }\n\n    return false;\n  };\n  /**\n   * if this is an descendant of another node\n   *\n   * @param node another node\n   * @return if is descendant\n   */\n\n\n  TreeNode.prototype.isDescendantOf = function (node) {\n    return node !== this && node.isAncestorOf(this);\n  };\n\n  return TreeNode;\n}();\n\nexport { TreeNode };\n;\n\nvar Tree =\n/** @class */\nfunction () {\n  function Tree(hostModel) {\n    this.type = 'tree';\n    this._nodes = [];\n    this.hostModel = hostModel;\n  }\n\n  Tree.prototype.eachNode = function (options, cb, context) {\n    this.root.eachNode(options, cb, context);\n  };\n\n  Tree.prototype.getNodeByDataIndex = function (dataIndex) {\n    var rawIndex = this.data.getRawIndex(dataIndex);\n    return this._nodes[rawIndex];\n  };\n\n  Tree.prototype.getNodeById = function (name) {\n    return this.root.getNodeById(name);\n  };\n  /**\n   * Update item available by list,\n   * when list has been performed options like 'filterSelf' or 'map'.\n   */\n\n\n  Tree.prototype.update = function () {\n    var data = this.data;\n    var nodes = this._nodes;\n\n    for (var i = 0, len = nodes.length; i < len; i++) {\n      nodes[i].dataIndex = -1;\n    }\n\n    for (var i = 0, len = data.count(); i < len; i++) {\n      nodes[data.getRawIndex(i)].dataIndex = i;\n    }\n  };\n  /**\n   * Clear all layouts\n   */\n\n\n  Tree.prototype.clearLayouts = function () {\n    this.data.clearItemLayouts();\n  };\n  /**\n   * data node format:\n   * {\n   *     name: ...\n   *     value: ...\n   *     children: [\n   *         {\n   *             name: ...\n   *             value: ...\n   *             children: ...\n   *         },\n   *         ...\n   *     ]\n   * }\n   */\n\n\n  Tree.createTree = function (dataRoot, hostModel, beforeLink) {\n    var tree = new Tree(hostModel);\n    var listData = [];\n    var dimMax = 1;\n    buildHierarchy(dataRoot);\n\n    function buildHierarchy(dataNode, parentNode) {\n      var value = dataNode.value;\n      dimMax = Math.max(dimMax, zrUtil.isArray(value) ? value.length : 1);\n      listData.push(dataNode);\n      var node = new TreeNode(convertOptionIdName(dataNode.name, ''), tree);\n      parentNode ? addChild(node, parentNode) : tree.root = node;\n\n      tree._nodes.push(node);\n\n      var children = dataNode.children;\n\n      if (children) {\n        for (var i = 0; i < children.length; i++) {\n          buildHierarchy(children[i], node);\n        }\n      }\n    }\n\n    tree.root.updateDepthAndHeight(0);\n    var dimensionsInfo = createDimensions(listData, {\n      coordDimensions: ['value'],\n      dimensionsCount: dimMax\n    });\n    var list = new List(dimensionsInfo, hostModel);\n    list.initData(listData);\n    beforeLink && beforeLink(list);\n    linkList({\n      mainData: list,\n      struct: tree,\n      structAttr: 'tree'\n    });\n    tree.update();\n    return tree;\n  };\n\n  return Tree;\n}();\n/**\n * It is needed to consider the mess of 'list', 'hostModel' when creating a TreeNote,\n * so this function is not ready and not necessary to be public.\n */\n\n\nfunction addChild(child, node) {\n  var children = node.children;\n\n  if (child.parentNode === node) {\n    return;\n  }\n\n  children.push(child);\n  child.parentNode = node;\n}\n\nexport default Tree;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util';\nexport function retrieveTargetInfo(payload, validPayloadTypes, seriesModel) {\n  if (payload && zrUtil.indexOf(validPayloadTypes, payload.type) >= 0) {\n    var root = seriesModel.getData().tree.root;\n    var targetNode = payload.targetNode;\n\n    if (typeof targetNode === 'string') {\n      targetNode = root.getNodeById(targetNode);\n    }\n\n    if (targetNode && root.contains(targetNode)) {\n      return {\n        node: targetNode\n      };\n    }\n\n    var targetNodeId = payload.targetNodeId;\n\n    if (targetNodeId != null && (targetNode = root.getNodeById(targetNodeId))) {\n      return {\n        node: targetNode\n      };\n    }\n  }\n} // Not includes the given node at the last item.\n\nexport function getPathToRoot(node) {\n  var path = [];\n\n  while (node) {\n    node = node.parentNode;\n    node && path.push(node);\n  }\n\n  return path.reverse();\n}\nexport function aboveViewRoot(viewRoot, node) {\n  var viewPath = getPathToRoot(viewRoot);\n  return zrUtil.indexOf(viewPath, node) >= 0;\n} // From root to the input node (the input node will be included).\n\nexport function wrapTreePathInfo(node, seriesModel) {\n  var treePathInfo = [];\n\n  while (node) {\n    var nodeDataIndex = node.dataIndex;\n    treePathInfo.push({\n      name: node.name,\n      dataIndex: nodeDataIndex,\n      value: seriesModel.getRawValue(nodeDataIndex)\n    });\n    node = node.parentNode;\n  }\n\n  treePathInfo.reverse();\n  return treePathInfo;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport SeriesModel from '../../model/Series';\nimport Tree from '../../data/Tree';\nimport Model from '../../model/Model';\nimport { createTooltipMarkup } from '../../component/tooltip/tooltipMarkup';\nimport { wrapTreePathInfo } from '../helper/treeHelper';\n\nvar TreeSeriesModel =\n/** @class */\nfunction (_super) {\n  __extends(TreeSeriesModel, _super);\n\n  function TreeSeriesModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.hasSymbolVisual = true; // Do it self.\n\n    _this.ignoreStyleOnData = true;\n    return _this;\n  }\n  /**\n   * Init a tree data structure from data in option series\n   * @param  option  the object used to config echarts view\n   * @return storage initial data\n   */\n\n\n  TreeSeriesModel.prototype.getInitialData = function (option) {\n    //create an virtual root\n    var root = {\n      name: option.name,\n      children: option.data\n    };\n    var leaves = option.leaves || {};\n    var leavesModel = new Model(leaves, this, this.ecModel);\n    var tree = Tree.createTree(root, this, beforeLink);\n\n    function beforeLink(nodeData) {\n      nodeData.wrapMethod('getItemModel', function (model, idx) {\n        var node = tree.getNodeByDataIndex(idx);\n\n        if (!(node && node.children.length && node.isExpand)) {\n          model.parentModel = leavesModel;\n        }\n\n        return model;\n      });\n    }\n\n    var treeDepth = 0;\n    tree.eachNode('preorder', function (node) {\n      if (node.depth > treeDepth) {\n        treeDepth = node.depth;\n      }\n    });\n    var expandAndCollapse = option.expandAndCollapse;\n    var expandTreeDepth = expandAndCollapse && option.initialTreeDepth >= 0 ? option.initialTreeDepth : treeDepth;\n    tree.root.eachNode('preorder', function (node) {\n      var item = node.hostTree.data.getRawDataItem(node.dataIndex); // Add item.collapsed != null, because users can collapse node original in the series.data.\n\n      node.isExpand = item && item.collapsed != null ? !item.collapsed : node.depth <= expandTreeDepth;\n    });\n    return tree.data;\n  };\n  /**\n   * Make the configuration 'orient' backward compatibly, with 'horizontal = LR', 'vertical = TB'.\n   * @returns {string} orient\n   */\n\n\n  TreeSeriesModel.prototype.getOrient = function () {\n    var orient = this.get('orient');\n\n    if (orient === 'horizontal') {\n      orient = 'LR';\n    } else if (orient === 'vertical') {\n      orient = 'TB';\n    }\n\n    return orient;\n  };\n\n  TreeSeriesModel.prototype.setZoom = function (zoom) {\n    this.option.zoom = zoom;\n  };\n\n  TreeSeriesModel.prototype.setCenter = function (center) {\n    this.option.center = center;\n  };\n\n  TreeSeriesModel.prototype.formatTooltip = function (dataIndex, multipleSeries, dataType) {\n    var tree = this.getData().tree;\n    var realRoot = tree.root.children[0];\n    var node = tree.getNodeByDataIndex(dataIndex);\n    var value = node.getValue();\n    var name = node.name;\n\n    while (node && node !== realRoot) {\n      name = node.parentNode.name + '.' + name;\n      node = node.parentNode;\n    }\n\n    return createTooltipMarkup('nameValue', {\n      name: name,\n      value: value,\n      noValue: isNaN(value) || value == null\n    });\n  }; // Add tree path to tooltip param\n\n\n  TreeSeriesModel.prototype.getDataParams = function (dataIndex) {\n    var params = _super.prototype.getDataParams.apply(this, arguments);\n\n    var node = this.getData().tree.getNodeByDataIndex(dataIndex);\n    params.treeAncestors = wrapTreePathInfo(node, this);\n    return params;\n  };\n\n  TreeSeriesModel.type = 'series.tree'; // can support the position parameters 'left', 'top','right','bottom', 'width',\n  // 'height' in the setOption() with 'merge' mode normal.\n\n  TreeSeriesModel.layoutMode = 'box';\n  TreeSeriesModel.defaultOption = {\n    zlevel: 0,\n    z: 2,\n    coordinateSystem: 'view',\n    // the position of the whole view\n    left: '12%',\n    top: '12%',\n    right: '12%',\n    bottom: '12%',\n    // the layout of the tree, two value can be selected, 'orthogonal' or 'radial'\n    layout: 'orthogonal',\n    // value can be 'polyline'\n    edgeShape: 'curve',\n    edgeForkPosition: '50%',\n    // true | false | 'move' | 'scale', see module:component/helper/RoamController.\n    roam: false,\n    // Symbol size scale ratio in roam\n    nodeScaleRatio: 0.4,\n    // Default on center of graph\n    center: null,\n    zoom: 1,\n    orient: 'LR',\n    symbol: 'emptyCircle',\n    symbolSize: 7,\n    expandAndCollapse: true,\n    initialTreeDepth: 2,\n    lineStyle: {\n      color: '#ccc',\n      width: 1.5,\n      curveness: 0.5\n    },\n    itemStyle: {\n      color: 'lightsteelblue',\n      // borderColor: '#c23531',\n      borderWidth: 1.5\n    },\n    label: {\n      show: true\n    },\n    animationEasing: 'linear',\n    animationDuration: 700,\n    animationDurationUpdate: 500\n  };\n  return TreeSeriesModel;\n}(SeriesModel);\n\nexport default TreeSeriesModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * Traverse the tree from bottom to top and do something\n */\nfunction eachAfter(root, callback, separation) {\n  var nodes = [root];\n  var next = [];\n  var node;\n\n  while (node = nodes.pop()) {\n    // jshint ignore:line\n    next.push(node);\n\n    if (node.isExpand) {\n      var children = node.children;\n\n      if (children.length) {\n        for (var i = 0; i < children.length; i++) {\n          nodes.push(children[i]);\n        }\n      }\n    }\n  }\n\n  while (node = next.pop()) {\n    // jshint ignore:line\n    callback(node, separation);\n  }\n}\n/**\n * Traverse the tree from top to bottom and do something\n */\n\n\nfunction eachBefore(root, callback) {\n  var nodes = [root];\n  var node;\n\n  while (node = nodes.pop()) {\n    // jshint ignore:line\n    callback(node);\n\n    if (node.isExpand) {\n      var children = node.children;\n\n      if (children.length) {\n        for (var i = children.length - 1; i >= 0; i--) {\n          nodes.push(children[i]);\n        }\n      }\n    }\n  }\n}\n\nexport { eachAfter, eachBefore };","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { eachAfter, eachBefore } from './traversalHelper';\nimport { init, firstWalk, secondWalk, separation as sep, radialCoordinate, getViewRect } from './layoutHelper';\nexport default function treeLayout(ecModel, api) {\n  ecModel.eachSeriesByType('tree', function (seriesModel) {\n    commonLayout(seriesModel, api);\n  });\n}\n\nfunction commonLayout(seriesModel, api) {\n  var layoutInfo = getViewRect(seriesModel, api);\n  seriesModel.layoutInfo = layoutInfo;\n  var layout = seriesModel.get('layout');\n  var width = 0;\n  var height = 0;\n  var separation = null;\n\n  if (layout === 'radial') {\n    width = 2 * Math.PI;\n    height = Math.min(layoutInfo.height, layoutInfo.width) / 2;\n    separation = sep(function (node1, node2) {\n      return (node1.parentNode === node2.parentNode ? 1 : 2) / node1.depth;\n    });\n  } else {\n    width = layoutInfo.width;\n    height = layoutInfo.height;\n    separation = sep();\n  }\n\n  var virtualRoot = seriesModel.getData().tree.root;\n  var realRoot = virtualRoot.children[0];\n\n  if (realRoot) {\n    init(virtualRoot);\n    eachAfter(realRoot, firstWalk, separation);\n    virtualRoot.hierNode.modifier = -realRoot.hierNode.prelim;\n    eachBefore(realRoot, secondWalk);\n    var left_1 = realRoot;\n    var right_1 = realRoot;\n    var bottom_1 = realRoot;\n    eachBefore(realRoot, function (node) {\n      var x = node.getLayout().x;\n\n      if (x < left_1.getLayout().x) {\n        left_1 = node;\n      }\n\n      if (x > right_1.getLayout().x) {\n        right_1 = node;\n      }\n\n      if (node.depth > bottom_1.depth) {\n        bottom_1 = node;\n      }\n    });\n    var delta = left_1 === right_1 ? 1 : separation(left_1, right_1) / 2;\n    var tx_1 = delta - left_1.getLayout().x;\n    var kx_1 = 0;\n    var ky_1 = 0;\n    var coorX_1 = 0;\n    var coorY_1 = 0;\n\n    if (layout === 'radial') {\n      kx_1 = width / (right_1.getLayout().x + delta + tx_1); // here we use (node.depth - 1), bucause the real root's depth is 1\n\n      ky_1 = height / (bottom_1.depth - 1 || 1);\n      eachBefore(realRoot, function (node) {\n        coorX_1 = (node.getLayout().x + tx_1) * kx_1;\n        coorY_1 = (node.depth - 1) * ky_1;\n        var finalCoor = radialCoordinate(coorX_1, coorY_1);\n        node.setLayout({\n          x: finalCoor.x,\n          y: finalCoor.y,\n          rawX: coorX_1,\n          rawY: coorY_1\n        }, true);\n      });\n    } else {\n      var orient_1 = seriesModel.getOrient();\n\n      if (orient_1 === 'RL' || orient_1 === 'LR') {\n        ky_1 = height / (right_1.getLayout().x + delta + tx_1);\n        kx_1 = width / (bottom_1.depth - 1 || 1);\n        eachBefore(realRoot, function (node) {\n          coorY_1 = (node.getLayout().x + tx_1) * ky_1;\n          coorX_1 = orient_1 === 'LR' ? (node.depth - 1) * kx_1 : width - (node.depth - 1) * kx_1;\n          node.setLayout({\n            x: coorX_1,\n            y: coorY_1\n          }, true);\n        });\n      } else if (orient_1 === 'TB' || orient_1 === 'BT') {\n        kx_1 = width / (right_1.getLayout().x + delta + tx_1);\n        ky_1 = height / (bottom_1.depth - 1 || 1);\n        eachBefore(realRoot, function (node) {\n          coorX_1 = (node.getLayout().x + tx_1) * kx_1;\n          coorY_1 = orient_1 === 'TB' ? (node.depth - 1) * ky_1 : height - (node.depth - 1) * ky_1;\n          node.setLayout({\n            x: coorX_1,\n            y: coorY_1\n          }, true);\n        });\n      }\n    }\n  }\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { extend } from 'zrender/lib/core/util';\nexport default function treeVisual(ecModel) {\n  ecModel.eachSeriesByType('tree', function (seriesModel) {\n    var data = seriesModel.getData();\n    var tree = data.tree;\n    tree.eachNode(function (node) {\n      var model = node.getModel(); // TODO Optimize\n\n      var style = model.getModel('itemStyle').getItemStyle();\n      var existsStyle = data.ensureUniqueItemVisual(node.dataIndex, 'style');\n      extend(existsStyle, style);\n    });\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nexport function updateCenterAndZoom(view, payload, zoomLimit) {\n  var previousZoom = view.getZoom();\n  var center = view.getCenter();\n  var zoom = payload.zoom;\n  var point = view.dataToPoint(center);\n\n  if (payload.dx != null && payload.dy != null) {\n    point[0] -= payload.dx;\n    point[1] -= payload.dy;\n    view.setCenter(view.pointToData(point));\n  }\n\n  if (zoom != null) {\n    if (zoomLimit) {\n      var zoomMin = zoomLimit.min || 0;\n      var zoomMax = zoomLimit.max || Infinity;\n      zoom = Math.max(Math.min(previousZoom * zoom, zoomMax), zoomMin) / previousZoom;\n    } // Zoom on given point(originX, originY)\n\n\n    view.scaleX *= zoom;\n    view.scaleY *= zoom;\n    var fixX = (payload.originX - view.x) * (zoom - 1);\n    var fixY = (payload.originY - view.y) * (zoom - 1);\n    view.x -= fixX;\n    view.y -= fixY;\n    view.updateTransform(); // Get the new center\n\n    view.setCenter(view.pointToData(point));\n    view.setZoom(zoom * previousZoom);\n  }\n\n  return {\n    center: view.getCenter(),\n    zoom: view.getZoom()\n  };\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { updateCenterAndZoom } from '../../action/roamHelper';\nexport function installTreeAction(registers) {\n  registers.registerAction({\n    type: 'treeExpandAndCollapse',\n    event: 'treeExpandAndCollapse',\n    update: 'update'\n  }, function (payload, ecModel) {\n    ecModel.eachComponent({\n      mainType: 'series',\n      subType: 'tree',\n      query: payload\n    }, function (seriesModel) {\n      var dataIndex = payload.dataIndex;\n      var tree = seriesModel.getData().tree;\n      var node = tree.getNodeByDataIndex(dataIndex);\n      node.isExpand = !node.isExpand;\n    });\n  });\n  registers.registerAction({\n    type: 'treeRoam',\n    event: 'treeRoam',\n    // Here we set 'none' instead of 'update', because roam action\n    // just need to update the transform matrix without having to recalculate\n    // the layout. So don't need to go through the whole update process, such\n    // as 'dataPrcocess', 'coordSystemUpdate', 'layout' and so on.\n    update: 'none'\n  }, function (payload, ecModel) {\n    ecModel.eachComponent({\n      mainType: 'series',\n      subType: 'tree',\n      query: payload\n    }, function (seriesModel) {\n      var coordSys = seriesModel.coordinateSystem;\n      var res = updateCenterAndZoom(coordSys, payload);\n      seriesModel.setCenter && seriesModel.setCenter(res.center);\n      seriesModel.setZoom && seriesModel.setZoom(res.zoom);\n    });\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport TreeView from './TreeView';\nimport TreeSeriesModel from './TreeSeries';\nimport treeLayout from './treeLayout';\nimport treeVisual from './treeVisual';\nimport { installTreeAction } from './treeAction';\nexport function install(registers) {\n  registers.registerChartView(TreeView);\n  registers.registerSeriesModel(TreeSeriesModel);\n  registers.registerLayout(treeLayout);\n  registers.registerVisual(treeVisual);\n  installTreeAction(registers);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util';\nimport * as graphic from '../../util/graphic';\nimport { getECData } from '../../util/innerStore';\nimport { createTextStyle } from '../../label/labelStyle';\nimport { getLayoutRect } from '../../util/layout';\nimport ComponentModel from '../../model/Component';\nimport ComponentView from '../../view/Component';\nimport { windowOpen } from '../../util/format';\n\nvar TitleModel =\n/** @class */\nfunction (_super) {\n  __extends(TitleModel, _super);\n\n  function TitleModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = TitleModel.type;\n    _this.layoutMode = {\n      type: 'box',\n      ignoreSize: true\n    };\n    return _this;\n  }\n\n  TitleModel.type = 'title';\n  TitleModel.defaultOption = {\n    zlevel: 0,\n    z: 6,\n    show: true,\n    text: '',\n    target: 'blank',\n    subtext: '',\n    subtarget: 'blank',\n    left: 0,\n    top: 0,\n    backgroundColor: 'rgba(0,0,0,0)',\n    borderColor: '#ccc',\n    borderWidth: 0,\n    padding: 5,\n    itemGap: 10,\n    textStyle: {\n      fontSize: 18,\n      fontWeight: 'bold',\n      color: '#464646'\n    },\n    subtextStyle: {\n      fontSize: 12,\n      color: '#6E7079'\n    }\n  };\n  return TitleModel;\n}(ComponentModel); // View\n\n\nvar TitleView =\n/** @class */\nfunction (_super) {\n  __extends(TitleView, _super);\n\n  function TitleView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = TitleView.type;\n    return _this;\n  }\n\n  TitleView.prototype.render = function (titleModel, ecModel, api) {\n    this.group.removeAll();\n\n    if (!titleModel.get('show')) {\n      return;\n    }\n\n    var group = this.group;\n    var textStyleModel = titleModel.getModel('textStyle');\n    var subtextStyleModel = titleModel.getModel('subtextStyle');\n    var textAlign = titleModel.get('textAlign');\n    var textVerticalAlign = zrUtil.retrieve2(titleModel.get('textBaseline'), titleModel.get('textVerticalAlign'));\n    var textEl = new graphic.Text({\n      style: createTextStyle(textStyleModel, {\n        text: titleModel.get('text'),\n        fill: textStyleModel.getTextColor()\n      }, {\n        disableBox: true\n      }),\n      z2: 10\n    });\n    var textRect = textEl.getBoundingRect();\n    var subText = titleModel.get('subtext');\n    var subTextEl = new graphic.Text({\n      style: createTextStyle(subtextStyleModel, {\n        text: subText,\n        fill: subtextStyleModel.getTextColor(),\n        y: textRect.height + titleModel.get('itemGap'),\n        verticalAlign: 'top'\n      }, {\n        disableBox: true\n      }),\n      z2: 10\n    });\n    var link = titleModel.get('link');\n    var sublink = titleModel.get('sublink');\n    var triggerEvent = titleModel.get('triggerEvent', true);\n    textEl.silent = !link && !triggerEvent;\n    subTextEl.silent = !sublink && !triggerEvent;\n\n    if (link) {\n      textEl.on('click', function () {\n        windowOpen(link, '_' + titleModel.get('target'));\n      });\n    }\n\n    if (sublink) {\n      subTextEl.on('click', function () {\n        windowOpen(sublink, '_' + titleModel.get('subtarget'));\n      });\n    }\n\n    getECData(textEl).eventData = getECData(subTextEl).eventData = triggerEvent ? {\n      componentType: 'title',\n      componentIndex: titleModel.componentIndex\n    } : null;\n    group.add(textEl);\n    subText && group.add(subTextEl); // If no subText, but add subTextEl, there will be an empty line.\n\n    var groupRect = group.getBoundingRect();\n    var layoutOption = titleModel.getBoxLayoutParams();\n    layoutOption.width = groupRect.width;\n    layoutOption.height = groupRect.height;\n    var layoutRect = getLayoutRect(layoutOption, {\n      width: api.getWidth(),\n      height: api.getHeight()\n    }, titleModel.get('padding')); // Adjust text align based on position\n\n    if (!textAlign) {\n      // Align left if title is on the left. center and right is same\n      textAlign = titleModel.get('left') || titleModel.get('right'); // @ts-ignore\n\n      if (textAlign === 'middle') {\n        textAlign = 'center';\n      } // Adjust layout by text align\n\n\n      if (textAlign === 'right') {\n        layoutRect.x += layoutRect.width;\n      } else if (textAlign === 'center') {\n        layoutRect.x += layoutRect.width / 2;\n      }\n    }\n\n    if (!textVerticalAlign) {\n      textVerticalAlign = titleModel.get('top') || titleModel.get('bottom'); // @ts-ignore\n\n      if (textVerticalAlign === 'center') {\n        textVerticalAlign = 'middle';\n      }\n\n      if (textVerticalAlign === 'bottom') {\n        layoutRect.y += layoutRect.height;\n      } else if (textVerticalAlign === 'middle') {\n        layoutRect.y += layoutRect.height / 2;\n      }\n\n      textVerticalAlign = textVerticalAlign || 'top';\n    }\n\n    group.x = layoutRect.x;\n    group.y = layoutRect.y;\n    group.markRedraw();\n    var alignStyle = {\n      align: textAlign,\n      verticalAlign: textVerticalAlign\n    };\n    textEl.setStyle(alignStyle);\n    subTextEl.setStyle(alignStyle); // Render background\n    // Get groupRect again because textAlign has been changed\n\n    groupRect = group.getBoundingRect();\n    var padding = layoutRect.margin;\n    var style = titleModel.getItemStyle(['color', 'opacity']);\n    style.fill = titleModel.get('backgroundColor');\n    var rect = new graphic.Rect({\n      shape: {\n        x: groupRect.x - padding[3],\n        y: groupRect.y - padding[0],\n        width: groupRect.width + padding[1] + padding[3],\n        height: groupRect.height + padding[0] + padding[2],\n        r: titleModel.get('borderRadius')\n      },\n      style: style,\n      subPixelOptimize: true,\n      silent: true\n    });\n    group.add(rect);\n  };\n\n  TitleView.type = 'title';\n  return TitleView;\n}(ComponentView);\n\nexport function install(registers) {\n  registers.registerComponentModel(TitleModel);\n  registers.registerComponentView(TitleView);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util';\nimport Model from '../../model/Model';\nimport { isNameSpecified } from '../../util/model';\nimport ComponentModel from '../../model/Component';\n\nvar getDefaultSelectorOptions = function (ecModel, type) {\n  if (type === 'all') {\n    return {\n      type: 'all',\n      title: ecModel.getLocale(['legend', 'selector', 'all'])\n    };\n  } else if (type === 'inverse') {\n    return {\n      type: 'inverse',\n      title: ecModel.getLocale(['legend', 'selector', 'inverse'])\n    };\n  }\n};\n\nvar LegendModel =\n/** @class */\nfunction (_super) {\n  __extends(LegendModel, _super);\n\n  function LegendModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = LegendModel.type;\n    _this.layoutMode = {\n      type: 'box',\n      // legend.width/height are maxWidth/maxHeight actually,\n      // whereas realy width/height is calculated by its content.\n      // (Setting {left: 10, right: 10} does not make sense).\n      // So consider the case:\n      // `setOption({legend: {left: 10});`\n      // then `setOption({legend: {right: 10});`\n      // The previous `left` should be cleared by setting `ignoreSize`.\n      ignoreSize: true\n    };\n    return _this;\n  }\n\n  LegendModel.prototype.init = function (option, parentModel, ecModel) {\n    this.mergeDefaultAndTheme(option, ecModel);\n    option.selected = option.selected || {};\n\n    this._updateSelector(option);\n  };\n\n  LegendModel.prototype.mergeOption = function (option, ecModel) {\n    _super.prototype.mergeOption.call(this, option, ecModel);\n\n    this._updateSelector(option);\n  };\n\n  LegendModel.prototype._updateSelector = function (option) {\n    var selector = option.selector;\n    var ecModel = this.ecModel;\n\n    if (selector === true) {\n      selector = option.selector = ['all', 'inverse'];\n    }\n\n    if (zrUtil.isArray(selector)) {\n      zrUtil.each(selector, function (item, index) {\n        zrUtil.isString(item) && (item = {\n          type: item\n        });\n        selector[index] = zrUtil.merge(item, getDefaultSelectorOptions(ecModel, item.type));\n      });\n    }\n  };\n\n  LegendModel.prototype.optionUpdated = function () {\n    this._updateData(this.ecModel);\n\n    var legendData = this._data; // If selectedMode is single, try to select one\n\n    if (legendData[0] && this.get('selectedMode') === 'single') {\n      var hasSelected = false; // If has any selected in option.selected\n\n      for (var i = 0; i < legendData.length; i++) {\n        var name_1 = legendData[i].get('name');\n\n        if (this.isSelected(name_1)) {\n          // Force to unselect others\n          this.select(name_1);\n          hasSelected = true;\n          break;\n        }\n      } // Try select the first if selectedMode is single\n\n\n      !hasSelected && this.select(legendData[0].get('name'));\n    }\n  };\n\n  LegendModel.prototype._updateData = function (ecModel) {\n    var potentialData = [];\n    var availableNames = [];\n    ecModel.eachRawSeries(function (seriesModel) {\n      var seriesName = seriesModel.name;\n      availableNames.push(seriesName);\n      var isPotential;\n\n      if (seriesModel.legendVisualProvider) {\n        var provider = seriesModel.legendVisualProvider;\n        var names = provider.getAllNames();\n\n        if (!ecModel.isSeriesFiltered(seriesModel)) {\n          availableNames = availableNames.concat(names);\n        }\n\n        if (names.length) {\n          potentialData = potentialData.concat(names);\n        } else {\n          isPotential = true;\n        }\n      } else {\n        isPotential = true;\n      }\n\n      if (isPotential && isNameSpecified(seriesModel)) {\n        potentialData.push(seriesModel.name);\n      }\n    });\n    /**\n     * @type {Array.<string>}\n     * @private\n     */\n\n    this._availableNames = availableNames; // If legend.data not specified in option, use availableNames as data,\n    // which is convinient for user preparing option.\n\n    var rawData = this.get('data') || potentialData;\n    var legendData = zrUtil.map(rawData, function (dataItem) {\n      // Can be string or number\n      if (typeof dataItem === 'string' || typeof dataItem === 'number') {\n        dataItem = {\n          name: dataItem\n        };\n      }\n\n      return new Model(dataItem, this, this.ecModel);\n    }, this);\n    /**\n     * @type {Array.<module:echarts/model/Model>}\n     * @private\n     */\n\n    this._data = legendData;\n  };\n\n  LegendModel.prototype.getData = function () {\n    return this._data;\n  };\n\n  LegendModel.prototype.select = function (name) {\n    var selected = this.option.selected;\n    var selectedMode = this.get('selectedMode');\n\n    if (selectedMode === 'single') {\n      var data = this._data;\n      zrUtil.each(data, function (dataItem) {\n        selected[dataItem.get('name')] = false;\n      });\n    }\n\n    selected[name] = true;\n  };\n\n  LegendModel.prototype.unSelect = function (name) {\n    if (this.get('selectedMode') !== 'single') {\n      this.option.selected[name] = false;\n    }\n  };\n\n  LegendModel.prototype.toggleSelected = function (name) {\n    var selected = this.option.selected; // Default is true\n\n    if (!selected.hasOwnProperty(name)) {\n      selected[name] = true;\n    }\n\n    this[selected[name] ? 'unSelect' : 'select'](name);\n  };\n\n  LegendModel.prototype.allSelect = function () {\n    var data = this._data;\n    var selected = this.option.selected;\n    zrUtil.each(data, function (dataItem) {\n      selected[dataItem.get('name', true)] = true;\n    });\n  };\n\n  LegendModel.prototype.inverseSelect = function () {\n    var data = this._data;\n    var selected = this.option.selected;\n    zrUtil.each(data, function (dataItem) {\n      var name = dataItem.get('name', true); // Initially, default value is true\n\n      if (!selected.hasOwnProperty(name)) {\n        selected[name] = true;\n      }\n\n      selected[name] = !selected[name];\n    });\n  };\n\n  LegendModel.prototype.isSelected = function (name) {\n    var selected = this.option.selected;\n    return !(selected.hasOwnProperty(name) && !selected[name]) && zrUtil.indexOf(this._availableNames, name) >= 0;\n  };\n\n  LegendModel.prototype.getOrient = function () {\n    return this.get('orient') === 'vertical' ? {\n      index: 1,\n      name: 'vertical'\n    } : {\n      index: 0,\n      name: 'horizontal'\n    };\n  };\n\n  LegendModel.type = 'legend.plain';\n  LegendModel.dependencies = ['series'];\n  LegendModel.defaultOption = {\n    zlevel: 0,\n    z: 4,\n    show: true,\n    orient: 'horizontal',\n    left: 'center',\n    // right: 'center',\n    top: 0,\n    // bottom: null,\n    align: 'auto',\n    backgroundColor: 'rgba(0,0,0,0)',\n    borderColor: '#ccc',\n    borderRadius: 0,\n    borderWidth: 0,\n    padding: 5,\n    itemGap: 10,\n    itemWidth: 25,\n    itemHeight: 14,\n    symbolRotate: 'inherit',\n    inactiveColor: '#ccc',\n    inactiveBorderColor: '#ccc',\n    inactiveBorderWidth: 'auto',\n    itemStyle: {\n      color: 'inherit',\n      opacity: 'inherit',\n      decal: 'inherit',\n      shadowBlur: 0,\n      shadowColor: null,\n      shadowOffsetX: 0,\n      shadowOffsetY: 0,\n      borderColor: 'inherit',\n      borderWidth: 'auto',\n      borderCap: 'inherit',\n      borderJoin: 'inherit',\n      borderDashOffset: 'inherit',\n      borderMiterLimit: 'inherit'\n    },\n    lineStyle: {\n      width: 'auto',\n      color: 'inherit',\n      inactiveColor: '#ccc',\n      inactiveWidth: 2,\n      opacity: 'inherit',\n      type: 'inherit',\n      cap: 'inherit',\n      join: 'inherit',\n      dashOffset: 'inherit',\n      miterLimit: 'inherit',\n      shadowBlur: 0,\n      shadowColor: null,\n      shadowOffsetX: 0,\n      shadowOffsetY: 0\n    },\n    textStyle: {\n      color: '#333'\n    },\n    selectedMode: true,\n    selector: false,\n    selectorLabel: {\n      show: true,\n      borderRadius: 10,\n      padding: [3, 5, 3, 5],\n      fontSize: 12,\n      fontFamily: ' sans-serif',\n      color: '#666',\n      borderWidth: 1,\n      borderColor: '#666'\n    },\n    emphasis: {\n      selectorLabel: {\n        show: true,\n        color: '#eee',\n        backgroundColor: '#666'\n      }\n    },\n    selectorPosition: 'auto',\n    selectorItemGap: 7,\n    selectorButtonGap: 10,\n    tooltip: {\n      show: false\n    }\n  };\n  return LegendModel;\n}(ComponentModel);\n\nexport default LegendModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// @ts-nocheck\nimport { getLayoutRect, box as layoutBox, positionElement } from '../../util/layout';\nimport * as formatUtil from '../../util/format';\nimport * as graphic from '../../util/graphic';\n/**\n * Layout list like component.\n * It will box layout each items in group of component and then position the whole group in the viewport\n * @param {module:zrender/group/Group} group\n * @param {module:echarts/model/Component} componentModel\n * @param {module:echarts/ExtensionAPI}\n */\n\nexport function layout(group, componentModel, api) {\n  var boxLayoutParams = componentModel.getBoxLayoutParams();\n  var padding = componentModel.get('padding');\n  var viewportSize = {\n    width: api.getWidth(),\n    height: api.getHeight()\n  };\n  var rect = getLayoutRect(boxLayoutParams, viewportSize, padding);\n  layoutBox(componentModel.get('orient'), group, componentModel.get('itemGap'), rect.width, rect.height);\n  positionElement(group, boxLayoutParams, viewportSize, padding);\n}\nexport function makeBackground(rect, componentModel) {\n  var padding = formatUtil.normalizeCssArray(componentModel.get('padding'));\n  var style = componentModel.getItemStyle(['color', 'opacity']);\n  style.fill = componentModel.get('backgroundColor');\n  rect = new graphic.Rect({\n    shape: {\n      x: rect.x - padding[3],\n      y: rect.y - padding[0],\n      width: rect.width + padding[1] + padding[3],\n      height: rect.height + padding[0] + padding[2],\n      r: componentModel.get('borderRadius')\n    },\n    style: style,\n    silent: true,\n    z2: -1\n  }); // FIXME\n  // `subPixelOptimizeRect` may bring some gap between edge of viewpart\n  // and background rect when setting like `left: 0`, `top: 0`.\n  // graphic.subPixelOptimizeRect(rect);\n\n  return rect;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util';\nimport { parse, stringify } from 'zrender/lib/tool/color';\nimport * as graphic from '../../util/graphic';\nimport { enableHoverEmphasis } from '../../util/states';\nimport { setLabelStyle, createTextStyle } from '../../label/labelStyle';\nimport { makeBackground } from '../helper/listComponent';\nimport * as layoutUtil from '../../util/layout';\nimport ComponentView from '../../view/Component';\nimport { LINE_STYLE_KEY_MAP } from '../../model/mixin/lineStyle';\nimport { ITEM_STYLE_KEY_MAP } from '../../model/mixin/itemStyle';\nimport { createSymbol } from '../../util/symbol';\nvar curry = zrUtil.curry;\nvar each = zrUtil.each;\nvar Group = graphic.Group;\n\nvar LegendView =\n/** @class */\nfunction (_super) {\n  __extends(LegendView, _super);\n\n  function LegendView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = LegendView.type;\n    _this.newlineDisabled = false;\n    return _this;\n  }\n\n  LegendView.prototype.init = function () {\n    this.group.add(this._contentGroup = new Group());\n    this.group.add(this._selectorGroup = new Group());\n    this._isFirstRender = true;\n  };\n  /**\n   * @protected\n   */\n\n\n  LegendView.prototype.getContentGroup = function () {\n    return this._contentGroup;\n  };\n  /**\n   * @protected\n   */\n\n\n  LegendView.prototype.getSelectorGroup = function () {\n    return this._selectorGroup;\n  };\n  /**\n   * @override\n   */\n\n\n  LegendView.prototype.render = function (legendModel, ecModel, api) {\n    var isFirstRender = this._isFirstRender;\n    this._isFirstRender = false;\n    this.resetInner();\n\n    if (!legendModel.get('show', true)) {\n      return;\n    }\n\n    var itemAlign = legendModel.get('align');\n    var orient = legendModel.get('orient');\n\n    if (!itemAlign || itemAlign === 'auto') {\n      itemAlign = legendModel.get('left') === 'right' && orient === 'vertical' ? 'right' : 'left';\n    } // selector has been normalized to an array in model\n\n\n    var selector = legendModel.get('selector', true);\n    var selectorPosition = legendModel.get('selectorPosition', true);\n\n    if (selector && (!selectorPosition || selectorPosition === 'auto')) {\n      selectorPosition = orient === 'horizontal' ? 'end' : 'start';\n    }\n\n    this.renderInner(itemAlign, legendModel, ecModel, api, selector, orient, selectorPosition); // Perform layout.\n\n    var positionInfo = legendModel.getBoxLayoutParams();\n    var viewportSize = {\n      width: api.getWidth(),\n      height: api.getHeight()\n    };\n    var padding = legendModel.get('padding');\n    var maxSize = layoutUtil.getLayoutRect(positionInfo, viewportSize, padding);\n    var mainRect = this.layoutInner(legendModel, itemAlign, maxSize, isFirstRender, selector, selectorPosition); // Place mainGroup, based on the calculated `mainRect`.\n\n    var layoutRect = layoutUtil.getLayoutRect(zrUtil.defaults({\n      width: mainRect.width,\n      height: mainRect.height\n    }, positionInfo), viewportSize, padding);\n    this.group.x = layoutRect.x - mainRect.x;\n    this.group.y = layoutRect.y - mainRect.y;\n    this.group.markRedraw(); // Render background after group is layout.\n\n    this.group.add(this._backgroundEl = makeBackground(mainRect, legendModel));\n  };\n\n  LegendView.prototype.resetInner = function () {\n    this.getContentGroup().removeAll();\n    this._backgroundEl && this.group.remove(this._backgroundEl);\n    this.getSelectorGroup().removeAll();\n  };\n\n  LegendView.prototype.renderInner = function (itemAlign, legendModel, ecModel, api, selector, orient, selectorPosition) {\n    var contentGroup = this.getContentGroup();\n    var legendDrawnMap = zrUtil.createHashMap();\n    var selectMode = legendModel.get('selectedMode');\n    var excludeSeriesId = [];\n    ecModel.eachRawSeries(function (seriesModel) {\n      !seriesModel.get('legendHoverLink') && excludeSeriesId.push(seriesModel.id);\n    });\n    each(legendModel.getData(), function (legendItemModel, dataIndex) {\n      var name = legendItemModel.get('name'); // Use empty string or \\n as a newline string\n\n      if (!this.newlineDisabled && (name === '' || name === '\\n')) {\n        var g = new Group(); // @ts-ignore\n\n        g.newline = true;\n        contentGroup.add(g);\n        return;\n      } // Representitive series.\n\n\n      var seriesModel = ecModel.getSeriesByName(name)[0];\n\n      if (legendDrawnMap.get(name)) {\n        // Have been drawed\n        return;\n      } // Legend to control series.\n\n\n      if (seriesModel) {\n        var data = seriesModel.getData();\n        var lineVisualStyle = data.getVisual('legendLineStyle') || {};\n        var legendIcon = data.getVisual('legendIcon');\n        /**\n         * `data.getVisual('style')` may be the color from the register\n         * in series. For example, for line series,\n         */\n\n        var style = data.getVisual('style');\n\n        var itemGroup = this._createItem(seriesModel, name, dataIndex, legendItemModel, legendModel, itemAlign, lineVisualStyle, style, legendIcon, selectMode);\n\n        itemGroup.on('click', curry(dispatchSelectAction, name, null, api, excludeSeriesId)).on('mouseover', curry(dispatchHighlightAction, seriesModel.name, null, api, excludeSeriesId)).on('mouseout', curry(dispatchDownplayAction, seriesModel.name, null, api, excludeSeriesId));\n        legendDrawnMap.set(name, true);\n      } else {\n        // Legend to control data. In pie and funnel.\n        ecModel.eachRawSeries(function (seriesModel) {\n          // In case multiple series has same data name\n          if (legendDrawnMap.get(name)) {\n            return;\n          }\n\n          if (seriesModel.legendVisualProvider) {\n            var provider = seriesModel.legendVisualProvider;\n\n            if (!provider.containName(name)) {\n              return;\n            }\n\n            var idx = provider.indexOfName(name);\n            var style = provider.getItemVisual(idx, 'style');\n            var legendIcon = provider.getItemVisual(idx, 'legendIcon');\n            var colorArr = parse(style.fill); // Color may be set to transparent in visualMap when data is out of range.\n            // Do not show nothing.\n\n            if (colorArr && colorArr[3] === 0) {\n              colorArr[3] = 0.2; // TODO color is set to 0, 0, 0, 0. Should show correct RGBA\n\n              style.fill = stringify(colorArr, 'rgba');\n            }\n\n            var itemGroup = this._createItem(seriesModel, name, dataIndex, legendItemModel, legendModel, itemAlign, {}, style, legendIcon, selectMode); // FIXME: consider different series has items with the same name.\n\n\n            itemGroup.on('click', curry(dispatchSelectAction, null, name, api, excludeSeriesId)) // Should not specify the series name, consider legend controls\n            // more than one pie series.\n            .on('mouseover', curry(dispatchHighlightAction, null, name, api, excludeSeriesId)).on('mouseout', curry(dispatchDownplayAction, null, name, api, excludeSeriesId));\n            legendDrawnMap.set(name, true);\n          }\n        }, this);\n      }\n\n      if (process.env.NODE_ENV !== 'production') {\n        if (!legendDrawnMap.get(name)) {\n          console.warn(name + ' series not exists. Legend data should be same with series name or data name.');\n        }\n      }\n    }, this);\n\n    if (selector) {\n      this._createSelector(selector, legendModel, api, orient, selectorPosition);\n    }\n  };\n\n  LegendView.prototype._createSelector = function (selector, legendModel, api, orient, selectorPosition) {\n    var selectorGroup = this.getSelectorGroup();\n    each(selector, function createSelectorButton(selectorItem) {\n      var type = selectorItem.type;\n      var labelText = new graphic.Text({\n        style: {\n          x: 0,\n          y: 0,\n          align: 'center',\n          verticalAlign: 'middle'\n        },\n        onclick: function () {\n          api.dispatchAction({\n            type: type === 'all' ? 'legendAllSelect' : 'legendInverseSelect'\n          });\n        }\n      });\n      selectorGroup.add(labelText);\n      var labelModel = legendModel.getModel('selectorLabel');\n      var emphasisLabelModel = legendModel.getModel(['emphasis', 'selectorLabel']);\n      setLabelStyle(labelText, {\n        normal: labelModel,\n        emphasis: emphasisLabelModel\n      }, {\n        defaultText: selectorItem.title\n      });\n      enableHoverEmphasis(labelText);\n    });\n  };\n\n  LegendView.prototype._createItem = function (seriesModel, name, dataIndex, legendItemModel, legendModel, itemAlign, lineVisualStyle, itemVisualStyle, legendIcon, selectMode) {\n    var drawType = seriesModel.visualDrawType;\n    var itemWidth = legendModel.get('itemWidth');\n    var itemHeight = legendModel.get('itemHeight');\n    var isSelected = legendModel.isSelected(name);\n    var iconRotate = legendItemModel.get('symbolRotate');\n    var legendIconType = legendItemModel.get('icon');\n    legendIcon = legendIconType || legendIcon || 'roundRect';\n    var legendLineStyle = legendModel.getModel('lineStyle');\n    var style = getLegendStyle(legendIcon, legendItemModel, legendLineStyle, lineVisualStyle, itemVisualStyle, drawType, isSelected);\n    var itemGroup = new Group();\n    var textStyleModel = legendItemModel.getModel('textStyle');\n\n    if (typeof seriesModel.getLegendIcon === 'function' && (!legendIconType || legendIconType === 'inherit')) {\n      // Series has specific way to define legend icon\n      itemGroup.add(seriesModel.getLegendIcon({\n        itemWidth: itemWidth,\n        itemHeight: itemHeight,\n        icon: legendIcon,\n        iconRotate: iconRotate,\n        itemStyle: style.itemStyle,\n        lineStyle: style.lineStyle\n      }));\n    } else {\n      // Use default legend icon policy for most series\n      var rotate = legendIconType === 'inherit' && seriesModel.getData().getVisual('symbol') ? iconRotate === 'inherit' ? seriesModel.getData().getVisual('symbolRotate') : iconRotate : 0; // No rotation for no icon\n\n      itemGroup.add(getDefaultLegendIcon({\n        itemWidth: itemWidth,\n        itemHeight: itemHeight,\n        icon: legendIcon,\n        iconRotate: rotate,\n        itemStyle: style.itemStyle,\n        lineStyle: style.lineStyle\n      }));\n    }\n\n    var textX = itemAlign === 'left' ? itemWidth + 5 : -5;\n    var textAlign = itemAlign;\n    var formatter = legendModel.get('formatter');\n    var content = name;\n\n    if (typeof formatter === 'string' && formatter) {\n      content = formatter.replace('{name}', name != null ? name : '');\n    } else if (typeof formatter === 'function') {\n      content = formatter(name);\n    }\n\n    var inactiveColor = legendItemModel.get('inactiveColor');\n    itemGroup.add(new graphic.Text({\n      style: createTextStyle(textStyleModel, {\n        text: content,\n        x: textX,\n        y: itemHeight / 2,\n        fill: isSelected ? textStyleModel.getTextColor() : inactiveColor,\n        align: textAlign,\n        verticalAlign: 'middle'\n      })\n    })); // Add a invisible rect to increase the area of mouse hover\n\n    var hitRect = new graphic.Rect({\n      shape: itemGroup.getBoundingRect(),\n      invisible: true\n    });\n    var tooltipModel = legendItemModel.getModel('tooltip');\n\n    if (tooltipModel.get('show')) {\n      graphic.setTooltipConfig({\n        el: hitRect,\n        componentModel: legendModel,\n        itemName: name,\n        itemTooltipOption: tooltipModel.option\n      });\n    }\n\n    itemGroup.add(hitRect);\n    itemGroup.eachChild(function (child) {\n      child.silent = true;\n    });\n    hitRect.silent = !selectMode;\n    this.getContentGroup().add(itemGroup);\n    enableHoverEmphasis(itemGroup); // @ts-ignore\n\n    itemGroup.__legendDataIndex = dataIndex;\n    return itemGroup;\n  };\n\n  LegendView.prototype.layoutInner = function (legendModel, itemAlign, maxSize, isFirstRender, selector, selectorPosition) {\n    var contentGroup = this.getContentGroup();\n    var selectorGroup = this.getSelectorGroup(); // Place items in contentGroup.\n\n    layoutUtil.box(legendModel.get('orient'), contentGroup, legendModel.get('itemGap'), maxSize.width, maxSize.height);\n    var contentRect = contentGroup.getBoundingRect();\n    var contentPos = [-contentRect.x, -contentRect.y];\n    selectorGroup.markRedraw();\n    contentGroup.markRedraw();\n\n    if (selector) {\n      // Place buttons in selectorGroup\n      layoutUtil.box( // Buttons in selectorGroup always layout horizontally\n      'horizontal', selectorGroup, legendModel.get('selectorItemGap', true));\n      var selectorRect = selectorGroup.getBoundingRect();\n      var selectorPos = [-selectorRect.x, -selectorRect.y];\n      var selectorButtonGap = legendModel.get('selectorButtonGap', true);\n      var orientIdx = legendModel.getOrient().index;\n      var wh = orientIdx === 0 ? 'width' : 'height';\n      var hw = orientIdx === 0 ? 'height' : 'width';\n      var yx = orientIdx === 0 ? 'y' : 'x';\n\n      if (selectorPosition === 'end') {\n        selectorPos[orientIdx] += contentRect[wh] + selectorButtonGap;\n      } else {\n        contentPos[orientIdx] += selectorRect[wh] + selectorButtonGap;\n      } //Always align selector to content as 'middle'\n\n\n      selectorPos[1 - orientIdx] += contentRect[hw] / 2 - selectorRect[hw] / 2;\n      selectorGroup.x = selectorPos[0];\n      selectorGroup.y = selectorPos[1];\n      contentGroup.x = contentPos[0];\n      contentGroup.y = contentPos[1];\n      var mainRect = {\n        x: 0,\n        y: 0\n      };\n      mainRect[wh] = contentRect[wh] + selectorButtonGap + selectorRect[wh];\n      mainRect[hw] = Math.max(contentRect[hw], selectorRect[hw]);\n      mainRect[yx] = Math.min(0, selectorRect[yx] + selectorPos[1 - orientIdx]);\n      return mainRect;\n    } else {\n      contentGroup.x = contentPos[0];\n      contentGroup.y = contentPos[1];\n      return this.group.getBoundingRect();\n    }\n  };\n  /**\n   * @protected\n   */\n\n\n  LegendView.prototype.remove = function () {\n    this.getContentGroup().removeAll();\n    this._isFirstRender = true;\n  };\n\n  LegendView.type = 'legend.plain';\n  return LegendView;\n}(ComponentView);\n\nfunction getLegendStyle(iconType, legendModel, legendLineStyle, lineVisualStyle, itemVisualStyle, drawType, isSelected) {\n  /**\n   * Use series style if is inherit;\n   * elsewise, use legend style\n   */\n  // itemStyle\n  var legendItemModel = legendModel.getModel('itemStyle');\n  var itemProperties = ITEM_STYLE_KEY_MAP.concat([['decal']]);\n  var itemStyle = {};\n\n  for (var i = 0; i < itemProperties.length; ++i) {\n    var propName = itemProperties[i][itemProperties[i].length - 1];\n    var visualName = itemProperties[i][0];\n    var value = legendItemModel.getShallow(propName);\n\n    if (value === 'inherit') {\n      switch (visualName) {\n        case 'fill':\n          /**\n           * Series with visualDrawType as 'stroke' should have\n           * series stroke as legend fill\n           */\n          itemStyle.fill = itemVisualStyle[drawType];\n          break;\n\n        case 'stroke':\n          /**\n           * icon type with \"emptyXXX\" should use fill color\n           * in visual style\n           */\n          itemStyle.stroke = itemVisualStyle[iconType.lastIndexOf('empty', 0) === 0 ? 'fill' : 'stroke'];\n          break;\n\n        case 'opacity':\n          /**\n           * Use lineStyle.opacity if drawType is stroke\n           */\n          itemStyle.opacity = (drawType === 'fill' ? itemVisualStyle : lineVisualStyle).opacity;\n          break;\n\n        default:\n          itemStyle[visualName] = itemVisualStyle[visualName];\n      }\n    } else if (value === 'auto' && visualName === 'lineWidth') {\n      // If lineStyle.width is 'auto', it is set to be 2 if series has border\n      itemStyle.lineWidth = itemVisualStyle.lineWidth > 0 ? 2 : 0;\n    } else {\n      itemStyle[visualName] = value;\n    }\n  } // lineStyle\n\n\n  var legendLineModel = legendModel.getModel('lineStyle');\n  var lineProperties = LINE_STYLE_KEY_MAP.concat([['inactiveColor'], ['inactiveWidth']]);\n  var lineStyle = {};\n\n  for (var i = 0; i < lineProperties.length; ++i) {\n    var propName = lineProperties[i][1];\n    var visualName = lineProperties[i][0];\n    var value = legendLineModel.getShallow(propName);\n\n    if (value === 'inherit') {\n      lineStyle[visualName] = lineVisualStyle[visualName];\n    } else if (value === 'auto' && visualName === 'lineWidth') {\n      // If lineStyle.width is 'auto', it is set to be 2 if series has border\n      lineStyle.lineWidth = lineVisualStyle.lineWidth > 0 ? 2 : 0;\n    } else {\n      lineStyle[visualName] = value;\n    }\n  } // Fix auto color to real color\n\n\n  itemStyle.fill === 'auto' && (itemStyle.fill = itemVisualStyle.fill);\n  itemStyle.stroke === 'auto' && (itemStyle.stroke = itemVisualStyle.fill);\n  lineStyle.stroke === 'auto' && (lineStyle.stroke = itemVisualStyle.fill);\n\n  if (!isSelected) {\n    var borderWidth = legendModel.get('inactiveBorderWidth');\n    /**\n     * Since stroke is set to be inactiveBorderColor, it may occur that\n     * there is no border in series but border in legend, so we need to\n     * use border only when series has border if is set to be auto\n     */\n\n    var visualHasBorder = itemStyle[iconType.indexOf('empty') > -1 ? 'fill' : 'stroke'];\n    itemStyle.lineWidth = borderWidth === 'auto' ? itemVisualStyle.lineWidth > 0 && visualHasBorder ? 2 : 0 : itemStyle.lineWidth;\n    itemStyle.fill = legendModel.get('inactiveColor');\n    itemStyle.stroke = legendModel.get('inactiveBorderColor');\n    lineStyle.stroke = legendLineStyle.get('inactiveColor');\n    lineStyle.lineWidth = legendLineStyle.get('inactiveWidth');\n  }\n\n  return {\n    itemStyle: itemStyle,\n    lineStyle: lineStyle\n  };\n}\n\nfunction getDefaultLegendIcon(opt) {\n  var symboType = opt.icon || 'roundRect';\n  var icon = createSymbol(symboType, 0, 0, opt.itemWidth, opt.itemHeight, opt.itemStyle.fill);\n  icon.setStyle(opt.itemStyle);\n  icon.rotation = (opt.iconRotate || 0) * Math.PI / 180;\n  icon.setOrigin([opt.itemWidth / 2, opt.itemHeight / 2]);\n\n  if (symboType.indexOf('empty') > -1) {\n    icon.style.stroke = icon.style.fill;\n    icon.style.fill = '#fff';\n    icon.style.lineWidth = 2;\n  }\n\n  return icon;\n}\n\nfunction dispatchSelectAction(seriesName, dataName, api, excludeSeriesId) {\n  // downplay before unselect\n  dispatchDownplayAction(seriesName, dataName, api, excludeSeriesId);\n  api.dispatchAction({\n    type: 'legendToggleSelect',\n    name: seriesName != null ? seriesName : dataName\n  }); // highlight after select\n  // TODO higlight immediately may cause animation loss.\n\n  dispatchHighlightAction(seriesName, dataName, api, excludeSeriesId);\n}\n\nfunction isUseHoverLayer(api) {\n  var list = api.getZr().storage.getDisplayList();\n  var emphasisState;\n  var i = 0;\n  var len = list.length;\n\n  while (i < len && !(emphasisState = list[i].states.emphasis)) {\n    i++;\n  }\n\n  return emphasisState && emphasisState.hoverLayer;\n}\n\nfunction dispatchHighlightAction(seriesName, dataName, api, excludeSeriesId) {\n  // If element hover will move to a hoverLayer.\n  if (!isUseHoverLayer(api)) {\n    api.dispatchAction({\n      type: 'highlight',\n      seriesName: seriesName,\n      name: dataName,\n      excludeSeriesId: excludeSeriesId\n    });\n  }\n}\n\nfunction dispatchDownplayAction(seriesName, dataName, api, excludeSeriesId) {\n  // If element hover will move to a hoverLayer.\n  if (!isUseHoverLayer(api)) {\n    api.dispatchAction({\n      type: 'downplay',\n      seriesName: seriesName,\n      name: dataName,\n      excludeSeriesId: excludeSeriesId\n    });\n  }\n}\n\nexport default LegendView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nexport default function legendFilter(ecModel) {\n  var legendModels = ecModel.findComponents({\n    mainType: 'legend'\n  });\n\n  if (legendModels && legendModels.length) {\n    ecModel.filterSeries(function (series) {\n      // If in any legend component the status is not selected.\n      // Because in legend series is assumed selected when it is not in the legend data.\n      for (var i = 0; i < legendModels.length; i++) {\n        if (!legendModels[i].isSelected(series.name)) {\n          return false;\n        }\n      }\n\n      return true;\n    });\n  }\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// @ts-nocheck\nimport { curry, each } from 'zrender/lib/core/util';\n\nfunction legendSelectActionHandler(methodName, payload, ecModel) {\n  var selectedMap = {};\n  var isToggleSelect = methodName === 'toggleSelected';\n  var isSelected; // Update all legend components\n\n  ecModel.eachComponent('legend', function (legendModel) {\n    if (isToggleSelect && isSelected != null) {\n      // Force other legend has same selected status\n      // Or the first is toggled to true and other are toggled to false\n      // In the case one legend has some item unSelected in option. And if other legend\n      // doesn't has the item, they will assume it is selected.\n      legendModel[isSelected ? 'select' : 'unSelect'](payload.name);\n    } else if (methodName === 'allSelect' || methodName === 'inverseSelect') {\n      legendModel[methodName]();\n    } else {\n      legendModel[methodName](payload.name);\n      isSelected = legendModel.isSelected(payload.name);\n    }\n\n    var legendData = legendModel.getData();\n    each(legendData, function (model) {\n      var name = model.get('name'); // Wrap element\n\n      if (name === '\\n' || name === '') {\n        return;\n      }\n\n      var isItemSelected = legendModel.isSelected(name);\n\n      if (selectedMap.hasOwnProperty(name)) {\n        // Unselected if any legend is unselected\n        selectedMap[name] = selectedMap[name] && isItemSelected;\n      } else {\n        selectedMap[name] = isItemSelected;\n      }\n    });\n  }); // Return the event explicitly\n\n  return methodName === 'allSelect' || methodName === 'inverseSelect' ? {\n    selected: selectedMap\n  } : {\n    name: payload.name,\n    selected: selectedMap\n  };\n}\n\nexport function installLegendAction(registers) {\n  /**\n   * @event legendToggleSelect\n   * @type {Object}\n   * @property {string} type 'legendToggleSelect'\n   * @property {string} [from]\n   * @property {string} name Series name or data item name\n   */\n  registers.registerAction('legendToggleSelect', 'legendselectchanged', curry(legendSelectActionHandler, 'toggleSelected'));\n  registers.registerAction('legendAllSelect', 'legendselectall', curry(legendSelectActionHandler, 'allSelect'));\n  registers.registerAction('legendInverseSelect', 'legendinverseselect', curry(legendSelectActionHandler, 'inverseSelect'));\n  /**\n   * @event legendSelect\n   * @type {Object}\n   * @property {string} type 'legendSelect'\n   * @property {string} name Series name or data item name\n   */\n\n  registers.registerAction('legendSelect', 'legendselected', curry(legendSelectActionHandler, 'select'));\n  /**\n   * @event legendUnSelect\n   * @type {Object}\n   * @property {string} type 'legendUnSelect'\n   * @property {string} name Series name or data item name\n   */\n\n  registers.registerAction('legendUnSelect', 'legendunselected', curry(legendSelectActionHandler, 'unSelect'));\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport LegendModel from './LegendModel';\nimport LegendView from './LegendView';\nimport legendFilter from './legendFilter';\nimport { installLegendAction } from './legendAction';\nexport function install(registers) {\n  registers.registerComponentModel(LegendModel);\n  registers.registerComponentView(LegendView);\n  registers.registerProcessor(registers.PRIORITY.PROCESSOR.SERIES_FILTER, legendFilter);\n  registers.registerSubTypeDefaulter('legend', function () {\n    return 'plain';\n  });\n  installLegendAction(registers);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport LegendModel from './LegendModel';\nimport { mergeLayoutParam, getLayoutParams } from '../../util/layout';\nimport { inheritDefaultOption } from '../../util/component';\n\nvar ScrollableLegendModel =\n/** @class */\nfunction (_super) {\n  __extends(ScrollableLegendModel, _super);\n\n  function ScrollableLegendModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = ScrollableLegendModel.type;\n    return _this;\n  }\n  /**\n   * @param {number} scrollDataIndex\n   */\n\n\n  ScrollableLegendModel.prototype.setScrollDataIndex = function (scrollDataIndex) {\n    this.option.scrollDataIndex = scrollDataIndex;\n  };\n\n  ScrollableLegendModel.prototype.init = function (option, parentModel, ecModel) {\n    var inputPositionParams = getLayoutParams(option);\n\n    _super.prototype.init.call(this, option, parentModel, ecModel);\n\n    mergeAndNormalizeLayoutParams(this, option, inputPositionParams);\n  };\n  /**\n   * @override\n   */\n\n\n  ScrollableLegendModel.prototype.mergeOption = function (option, ecModel) {\n    _super.prototype.mergeOption.call(this, option, ecModel);\n\n    mergeAndNormalizeLayoutParams(this, this.option, option);\n  };\n\n  ScrollableLegendModel.type = 'legend.scroll';\n  ScrollableLegendModel.defaultOption = inheritDefaultOption(LegendModel.defaultOption, {\n    scrollDataIndex: 0,\n    pageButtonItemGap: 5,\n    pageButtonGap: null,\n    pageButtonPosition: 'end',\n    pageFormatter: '{current}/{total}',\n    pageIcons: {\n      horizontal: ['M0,0L12,-10L12,10z', 'M0,0L-12,-10L-12,10z'],\n      vertical: ['M0,0L20,0L10,-20z', 'M0,0L20,0L10,20z']\n    },\n    pageIconColor: '#2f4554',\n    pageIconInactiveColor: '#aaa',\n    pageIconSize: 15,\n    pageTextStyle: {\n      color: '#333'\n    },\n    animationDurationUpdate: 800\n  });\n  return ScrollableLegendModel;\n}(LegendModel);\n\n; // Do not `ignoreSize` to enable setting {left: 10, right: 10}.\n\nfunction mergeAndNormalizeLayoutParams(legendModel, target, raw) {\n  var orient = legendModel.getOrient();\n  var ignoreSize = [1, 1];\n  ignoreSize[orient.index] = 0;\n  mergeLayoutParam(target, raw, {\n    type: 'box',\n    ignoreSize: !!ignoreSize\n  });\n}\n\nexport default ScrollableLegendModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\n/**\n * Separate legend and scrollable legend to reduce package size.\n */\n\nimport * as zrUtil from 'zrender/lib/core/util';\nimport * as graphic from '../../util/graphic';\nimport * as layoutUtil from '../../util/layout';\nimport LegendView from './LegendView';\nvar Group = graphic.Group;\nvar WH = ['width', 'height'];\nvar XY = ['x', 'y'];\n\nvar ScrollableLegendView =\n/** @class */\nfunction (_super) {\n  __extends(ScrollableLegendView, _super);\n\n  function ScrollableLegendView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = ScrollableLegendView.type;\n    _this.newlineDisabled = true;\n    _this._currentIndex = 0;\n    return _this;\n  }\n\n  ScrollableLegendView.prototype.init = function () {\n    _super.prototype.init.call(this);\n\n    this.group.add(this._containerGroup = new Group());\n\n    this._containerGroup.add(this.getContentGroup());\n\n    this.group.add(this._controllerGroup = new Group());\n  };\n  /**\n   * @override\n   */\n\n\n  ScrollableLegendView.prototype.resetInner = function () {\n    _super.prototype.resetInner.call(this);\n\n    this._controllerGroup.removeAll();\n\n    this._containerGroup.removeClipPath();\n\n    this._containerGroup.__rectSize = null;\n  };\n  /**\n   * @override\n   */\n\n\n  ScrollableLegendView.prototype.renderInner = function (itemAlign, legendModel, ecModel, api, selector, orient, selectorPosition) {\n    var self = this; // Render content items.\n\n    _super.prototype.renderInner.call(this, itemAlign, legendModel, ecModel, api, selector, orient, selectorPosition);\n\n    var controllerGroup = this._controllerGroup; // FIXME: support be 'auto' adapt to size number text length,\n    // e.g., '3/12345' should not overlap with the control arrow button.\n\n    var pageIconSize = legendModel.get('pageIconSize', true);\n    var pageIconSizeArr = zrUtil.isArray(pageIconSize) ? pageIconSize : [pageIconSize, pageIconSize];\n    createPageButton('pagePrev', 0);\n    var pageTextStyleModel = legendModel.getModel('pageTextStyle');\n    controllerGroup.add(new graphic.Text({\n      name: 'pageText',\n      style: {\n        // Placeholder to calculate a proper layout.\n        text: 'xx/xx',\n        fill: pageTextStyleModel.getTextColor(),\n        font: pageTextStyleModel.getFont(),\n        verticalAlign: 'middle',\n        align: 'center'\n      },\n      silent: true\n    }));\n    createPageButton('pageNext', 1);\n\n    function createPageButton(name, iconIdx) {\n      var pageDataIndexName = name + 'DataIndex';\n      var icon = graphic.createIcon(legendModel.get('pageIcons', true)[legendModel.getOrient().name][iconIdx], {\n        // Buttons will be created in each render, so we do not need\n        // to worry about avoiding using legendModel kept in scope.\n        onclick: zrUtil.bind(self._pageGo, self, pageDataIndexName, legendModel, api)\n      }, {\n        x: -pageIconSizeArr[0] / 2,\n        y: -pageIconSizeArr[1] / 2,\n        width: pageIconSizeArr[0],\n        height: pageIconSizeArr[1]\n      });\n      icon.name = name;\n      controllerGroup.add(icon);\n    }\n  };\n  /**\n   * @override\n   */\n\n\n  ScrollableLegendView.prototype.layoutInner = function (legendModel, itemAlign, maxSize, isFirstRender, selector, selectorPosition) {\n    var selectorGroup = this.getSelectorGroup();\n    var orientIdx = legendModel.getOrient().index;\n    var wh = WH[orientIdx];\n    var xy = XY[orientIdx];\n    var hw = WH[1 - orientIdx];\n    var yx = XY[1 - orientIdx];\n    selector && layoutUtil.box( // Buttons in selectorGroup always layout horizontally\n    'horizontal', selectorGroup, legendModel.get('selectorItemGap', true));\n    var selectorButtonGap = legendModel.get('selectorButtonGap', true);\n    var selectorRect = selectorGroup.getBoundingRect();\n    var selectorPos = [-selectorRect.x, -selectorRect.y];\n    var processMaxSize = zrUtil.clone(maxSize);\n    selector && (processMaxSize[wh] = maxSize[wh] - selectorRect[wh] - selectorButtonGap);\n\n    var mainRect = this._layoutContentAndController(legendModel, isFirstRender, processMaxSize, orientIdx, wh, hw, yx, xy);\n\n    if (selector) {\n      if (selectorPosition === 'end') {\n        selectorPos[orientIdx] += mainRect[wh] + selectorButtonGap;\n      } else {\n        var offset = selectorRect[wh] + selectorButtonGap;\n        selectorPos[orientIdx] -= offset;\n        mainRect[xy] -= offset;\n      }\n\n      mainRect[wh] += selectorRect[wh] + selectorButtonGap;\n      selectorPos[1 - orientIdx] += mainRect[yx] + mainRect[hw] / 2 - selectorRect[hw] / 2;\n      mainRect[hw] = Math.max(mainRect[hw], selectorRect[hw]);\n      mainRect[yx] = Math.min(mainRect[yx], selectorRect[yx] + selectorPos[1 - orientIdx]);\n      selectorGroup.x = selectorPos[0];\n      selectorGroup.y = selectorPos[1];\n      selectorGroup.markRedraw();\n    }\n\n    return mainRect;\n  };\n\n  ScrollableLegendView.prototype._layoutContentAndController = function (legendModel, isFirstRender, maxSize, orientIdx, wh, hw, yx, xy) {\n    var contentGroup = this.getContentGroup();\n    var containerGroup = this._containerGroup;\n    var controllerGroup = this._controllerGroup; // Place items in contentGroup.\n\n    layoutUtil.box(legendModel.get('orient'), contentGroup, legendModel.get('itemGap'), !orientIdx ? null : maxSize.width, orientIdx ? null : maxSize.height);\n    layoutUtil.box( // Buttons in controller are layout always horizontally.\n    'horizontal', controllerGroup, legendModel.get('pageButtonItemGap', true));\n    var contentRect = contentGroup.getBoundingRect();\n    var controllerRect = controllerGroup.getBoundingRect();\n    var showController = this._showController = contentRect[wh] > maxSize[wh]; // In case that the inner elements of contentGroup layout do not based on [0, 0]\n\n    var contentPos = [-contentRect.x, -contentRect.y]; // Remain contentPos when scroll animation perfroming.\n    // If first rendering, `contentGroup.position` is [0, 0], which\n    // does not make sense and may cause unexepcted animation if adopted.\n\n    if (!isFirstRender) {\n      contentPos[orientIdx] = contentGroup[xy];\n    } // Layout container group based on 0.\n\n\n    var containerPos = [0, 0];\n    var controllerPos = [-controllerRect.x, -controllerRect.y];\n    var pageButtonGap = zrUtil.retrieve2(legendModel.get('pageButtonGap', true), legendModel.get('itemGap', true)); // Place containerGroup and controllerGroup and contentGroup.\n\n    if (showController) {\n      var pageButtonPosition = legendModel.get('pageButtonPosition', true); // controller is on the right / bottom.\n\n      if (pageButtonPosition === 'end') {\n        controllerPos[orientIdx] += maxSize[wh] - controllerRect[wh];\n      } // controller is on the left / top.\n      else {\n          containerPos[orientIdx] += controllerRect[wh] + pageButtonGap;\n        }\n    } // Always align controller to content as 'middle'.\n\n\n    controllerPos[1 - orientIdx] += contentRect[hw] / 2 - controllerRect[hw] / 2;\n    contentGroup.setPosition(contentPos);\n    containerGroup.setPosition(containerPos);\n    controllerGroup.setPosition(controllerPos); // Calculate `mainRect` and set `clipPath`.\n    // mainRect should not be calculated by `this.group.getBoundingRect()`\n    // for sake of the overflow.\n\n    var mainRect = {\n      x: 0,\n      y: 0\n    }; // Consider content may be overflow (should be clipped).\n\n    mainRect[wh] = showController ? maxSize[wh] : contentRect[wh];\n    mainRect[hw] = Math.max(contentRect[hw], controllerRect[hw]); // `containerRect[yx] + containerPos[1 - orientIdx]` is 0.\n\n    mainRect[yx] = Math.min(0, controllerRect[yx] + controllerPos[1 - orientIdx]);\n    containerGroup.__rectSize = maxSize[wh];\n\n    if (showController) {\n      var clipShape = {\n        x: 0,\n        y: 0\n      };\n      clipShape[wh] = Math.max(maxSize[wh] - controllerRect[wh] - pageButtonGap, 0);\n      clipShape[hw] = mainRect[hw];\n      containerGroup.setClipPath(new graphic.Rect({\n        shape: clipShape\n      })); // Consider content may be larger than container, container rect\n      // can not be obtained from `containerGroup.getBoundingRect()`.\n\n      containerGroup.__rectSize = clipShape[wh];\n    } else {\n      // Do not remove or ignore controller. Keep them set as placeholders.\n      controllerGroup.eachChild(function (child) {\n        child.attr({\n          invisible: true,\n          silent: true\n        });\n      });\n    } // Content translate animation.\n\n\n    var pageInfo = this._getPageInfo(legendModel);\n\n    pageInfo.pageIndex != null && graphic.updateProps(contentGroup, {\n      x: pageInfo.contentPosition[0],\n      y: pageInfo.contentPosition[1]\n    }, // When switch from \"show controller\" to \"not show controller\", view should be\n    // updated immediately without animation, otherwise causes weird effect.\n    showController ? legendModel : null);\n\n    this._updatePageInfoView(legendModel, pageInfo);\n\n    return mainRect;\n  };\n\n  ScrollableLegendView.prototype._pageGo = function (to, legendModel, api) {\n    var scrollDataIndex = this._getPageInfo(legendModel)[to];\n\n    scrollDataIndex != null && api.dispatchAction({\n      type: 'legendScroll',\n      scrollDataIndex: scrollDataIndex,\n      legendId: legendModel.id\n    });\n  };\n\n  ScrollableLegendView.prototype._updatePageInfoView = function (legendModel, pageInfo) {\n    var controllerGroup = this._controllerGroup;\n    zrUtil.each(['pagePrev', 'pageNext'], function (name) {\n      var key = name + 'DataIndex';\n      var canJump = pageInfo[key] != null;\n      var icon = controllerGroup.childOfName(name);\n\n      if (icon) {\n        icon.setStyle('fill', canJump ? legendModel.get('pageIconColor', true) : legendModel.get('pageIconInactiveColor', true));\n        icon.cursor = canJump ? 'pointer' : 'default';\n      }\n    });\n    var pageText = controllerGroup.childOfName('pageText');\n    var pageFormatter = legendModel.get('pageFormatter');\n    var pageIndex = pageInfo.pageIndex;\n    var current = pageIndex != null ? pageIndex + 1 : 0;\n    var total = pageInfo.pageCount;\n    pageText && pageFormatter && pageText.setStyle('text', zrUtil.isString(pageFormatter) ? pageFormatter.replace('{current}', current == null ? '' : current + '').replace('{total}', total == null ? '' : total + '') : pageFormatter({\n      current: current,\n      total: total\n    }));\n  };\n  /**\n   *  contentPosition: Array.<number>, null when data item not found.\n   *  pageIndex: number, null when data item not found.\n   *  pageCount: number, always be a number, can be 0.\n   *  pagePrevDataIndex: number, null when no previous page.\n   *  pageNextDataIndex: number, null when no next page.\n   * }\n   */\n\n\n  ScrollableLegendView.prototype._getPageInfo = function (legendModel) {\n    var scrollDataIndex = legendModel.get('scrollDataIndex', true);\n    var contentGroup = this.getContentGroup();\n    var containerRectSize = this._containerGroup.__rectSize;\n    var orientIdx = legendModel.getOrient().index;\n    var wh = WH[orientIdx];\n    var xy = XY[orientIdx];\n\n    var targetItemIndex = this._findTargetItemIndex(scrollDataIndex);\n\n    var children = contentGroup.children();\n    var targetItem = children[targetItemIndex];\n    var itemCount = children.length;\n    var pCount = !itemCount ? 0 : 1;\n    var result = {\n      contentPosition: [contentGroup.x, contentGroup.y],\n      pageCount: pCount,\n      pageIndex: pCount - 1,\n      pagePrevDataIndex: null,\n      pageNextDataIndex: null\n    };\n\n    if (!targetItem) {\n      return result;\n    }\n\n    var targetItemInfo = getItemInfo(targetItem);\n    result.contentPosition[orientIdx] = -targetItemInfo.s; // Strategy:\n    // (1) Always align based on the left/top most item.\n    // (2) It is user-friendly that the last item shown in the\n    // current window is shown at the begining of next window.\n    // Otherwise if half of the last item is cut by the window,\n    // it will have no chance to display entirely.\n    // (3) Consider that item size probably be different, we\n    // have calculate pageIndex by size rather than item index,\n    // and we can not get page index directly by division.\n    // (4) The window is to narrow to contain more than\n    // one item, we should make sure that the page can be fliped.\n\n    for (var i = targetItemIndex + 1, winStartItemInfo = targetItemInfo, winEndItemInfo = targetItemInfo, currItemInfo = null; i <= itemCount; ++i) {\n      currItemInfo = getItemInfo(children[i]);\n\n      if ( // Half of the last item is out of the window.\n      !currItemInfo && winEndItemInfo.e > winStartItemInfo.s + containerRectSize || // If the current item does not intersect with the window, the new page\n      // can be started at the current item or the last item.\n      currItemInfo && !intersect(currItemInfo, winStartItemInfo.s)) {\n        if (winEndItemInfo.i > winStartItemInfo.i) {\n          winStartItemInfo = winEndItemInfo;\n        } else {\n          // e.g., when page size is smaller than item size.\n          winStartItemInfo = currItemInfo;\n        }\n\n        if (winStartItemInfo) {\n          if (result.pageNextDataIndex == null) {\n            result.pageNextDataIndex = winStartItemInfo.i;\n          }\n\n          ++result.pageCount;\n        }\n      }\n\n      winEndItemInfo = currItemInfo;\n    }\n\n    for (var i = targetItemIndex - 1, winStartItemInfo = targetItemInfo, winEndItemInfo = targetItemInfo, currItemInfo = null; i >= -1; --i) {\n      currItemInfo = getItemInfo(children[i]);\n\n      if ( // If the the end item does not intersect with the window started\n      // from the current item, a page can be settled.\n      (!currItemInfo || !intersect(winEndItemInfo, currItemInfo.s)) && // e.g., when page size is smaller than item size.\n      winStartItemInfo.i < winEndItemInfo.i) {\n        winEndItemInfo = winStartItemInfo;\n\n        if (result.pagePrevDataIndex == null) {\n          result.pagePrevDataIndex = winStartItemInfo.i;\n        }\n\n        ++result.pageCount;\n        ++result.pageIndex;\n      }\n\n      winStartItemInfo = currItemInfo;\n    }\n\n    return result;\n\n    function getItemInfo(el) {\n      if (el) {\n        var itemRect = el.getBoundingRect();\n        var start = itemRect[xy] + el[xy];\n        return {\n          s: start,\n          e: start + itemRect[wh],\n          i: el.__legendDataIndex\n        };\n      }\n    }\n\n    function intersect(itemInfo, winStart) {\n      return itemInfo.e >= winStart && itemInfo.s <= winStart + containerRectSize;\n    }\n  };\n\n  ScrollableLegendView.prototype._findTargetItemIndex = function (targetDataIndex) {\n    if (!this._showController) {\n      return 0;\n    }\n\n    var index;\n    var contentGroup = this.getContentGroup();\n    var defaultIndex;\n    contentGroup.eachChild(function (child, idx) {\n      var legendDataIdx = child.__legendDataIndex; // FIXME\n      // If the given targetDataIndex (from model) is illegal,\n      // we use defaultIndex. But the index on the legend model and\n      // action payload is still illegal. That case will not be\n      // changed until some scenario requires.\n\n      if (defaultIndex == null && legendDataIdx != null) {\n        defaultIndex = idx;\n      }\n\n      if (legendDataIdx === targetDataIndex) {\n        index = idx;\n      }\n    });\n    return index != null ? index : defaultIndex;\n  };\n\n  ScrollableLegendView.type = 'legend.scroll';\n  return ScrollableLegendView;\n}(LegendView);\n\nexport default ScrollableLegendView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nexport default function installScrollableLegendAction(registers) {\n  /**\n   * @event legendScroll\n   * @type {Object}\n   * @property {string} type 'legendScroll'\n   * @property {string} scrollDataIndex\n   */\n  registers.registerAction('legendScroll', 'legendscroll', function (payload, ecModel) {\n    var scrollDataIndex = payload.scrollDataIndex;\n    scrollDataIndex != null && ecModel.eachComponent({\n      mainType: 'legend',\n      subType: 'scroll',\n      query: payload\n    }, function (legendModel) {\n      legendModel.setScrollDataIndex(scrollDataIndex);\n    });\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { use } from '../../extension';\nimport { install as installLegendPlain } from './installLegendPlain';\nimport ScrollableLegendModel from './ScrollableLegendModel';\nimport ScrollableLegendView from './ScrollableLegendView';\nimport installScrollableLegendAction from './scrollableLegendAction';\nexport function install(registers) {\n  use(installLegendPlain);\n  registers.registerComponentModel(ScrollableLegendModel);\n  registers.registerComponentView(ScrollableLegendView);\n  installScrollableLegendAction(registers);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { use } from '../../extension';\nimport { install as installLegendPlain } from './installLegendPlain';\nimport { install as installLegendScroll } from './installLegendScroll';\nexport function install(registers) {\n  use(installLegendPlain);\n  use(installLegendScroll);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { use } from '../extension';\nimport { install } from './tooltip/install';\nuse(install);","import { render } from \"./Tree.vue?vue&type=template&id=ef668a1c&scoped=true\"\nimport script from \"./Tree.vue?vue&type=script&lang=js\"\nexport * from \"./Tree.vue?vue&type=script&lang=js\"\n\nimport \"./Tree.vue?vue&type=style&index=0&id=ef668a1c&lang=scss&scoped=true\"\nimport \"./Tree.vue?vue&type=style&index=1&id=ef668a1c&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-ef668a1c\"\n\nexport default script","/*!\n * clipboard.js v2.0.8\n * https://clipboardjs.com/\n *\n * Licensed MIT © Zeno Rocha\n */\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ClipboardJS\"] = factory();\n\telse\n\t\troot[\"ClipboardJS\"] = factory();\n})(this, function() {\nreturn /******/ (function() { // webpackBootstrap\n/******/ \tvar __webpack_modules__ = ({\n\n/***/ 134:\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  \"default\": function() { return /* binding */ clipboard; }\n});\n\n// EXTERNAL MODULE: ./node_modules/tiny-emitter/index.js\nvar tiny_emitter = __webpack_require__(279);\nvar tiny_emitter_default = /*#__PURE__*/__webpack_require__.n(tiny_emitter);\n// EXTERNAL MODULE: ./node_modules/good-listener/src/listen.js\nvar listen = __webpack_require__(370);\nvar listen_default = /*#__PURE__*/__webpack_require__.n(listen);\n// EXTERNAL MODULE: ./node_modules/select/src/select.js\nvar src_select = __webpack_require__(817);\nvar select_default = /*#__PURE__*/__webpack_require__.n(src_select);\n;// CONCATENATED MODULE: ./src/clipboard-action.js\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n/**\n * Inner class which performs selection from either `text` or `target`\n * properties and then executes copy or cut operations.\n */\n\nvar ClipboardAction = /*#__PURE__*/function () {\n  /**\n   * @param {Object} options\n   */\n  function ClipboardAction(options) {\n    _classCallCheck(this, ClipboardAction);\n\n    this.resolveOptions(options);\n    this.initSelection();\n  }\n  /**\n   * Defines base properties passed from constructor.\n   * @param {Object} options\n   */\n\n\n  _createClass(ClipboardAction, [{\n    key: \"resolveOptions\",\n    value: function resolveOptions() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      this.action = options.action;\n      this.container = options.container;\n      this.emitter = options.emitter;\n      this.target = options.target;\n      this.text = options.text;\n      this.trigger = options.trigger;\n      this.selectedText = '';\n    }\n    /**\n     * Decides which selection strategy is going to be applied based\n     * on the existence of `text` and `target` properties.\n     */\n\n  }, {\n    key: \"initSelection\",\n    value: function initSelection() {\n      if (this.text) {\n        this.selectFake();\n      } else if (this.target) {\n        this.selectTarget();\n      }\n    }\n    /**\n     * Creates a fake textarea element, sets its value from `text` property,\n     */\n\n  }, {\n    key: \"createFakeElement\",\n    value: function createFakeElement() {\n      var isRTL = document.documentElement.getAttribute('dir') === 'rtl';\n      this.fakeElem = document.createElement('textarea'); // Prevent zooming on iOS\n\n      this.fakeElem.style.fontSize = '12pt'; // Reset box model\n\n      this.fakeElem.style.border = '0';\n      this.fakeElem.style.padding = '0';\n      this.fakeElem.style.margin = '0'; // Move element out of screen horizontally\n\n      this.fakeElem.style.position = 'absolute';\n      this.fakeElem.style[isRTL ? 'right' : 'left'] = '-9999px'; // Move element to the same position vertically\n\n      var yPosition = window.pageYOffset || document.documentElement.scrollTop;\n      this.fakeElem.style.top = \"\".concat(yPosition, \"px\");\n      this.fakeElem.setAttribute('readonly', '');\n      this.fakeElem.value = this.text;\n      return this.fakeElem;\n    }\n    /**\n     * Get's the value of fakeElem,\n     * and makes a selection on it.\n     */\n\n  }, {\n    key: \"selectFake\",\n    value: function selectFake() {\n      var _this = this;\n\n      var fakeElem = this.createFakeElement();\n\n      this.fakeHandlerCallback = function () {\n        return _this.removeFake();\n      };\n\n      this.fakeHandler = this.container.addEventListener('click', this.fakeHandlerCallback) || true;\n      this.container.appendChild(fakeElem);\n      this.selectedText = select_default()(fakeElem);\n      this.copyText();\n      this.removeFake();\n    }\n    /**\n     * Only removes the fake element after another click event, that way\n     * a user can hit `Ctrl+C` to copy because selection still exists.\n     */\n\n  }, {\n    key: \"removeFake\",\n    value: function removeFake() {\n      if (this.fakeHandler) {\n        this.container.removeEventListener('click', this.fakeHandlerCallback);\n        this.fakeHandler = null;\n        this.fakeHandlerCallback = null;\n      }\n\n      if (this.fakeElem) {\n        this.container.removeChild(this.fakeElem);\n        this.fakeElem = null;\n      }\n    }\n    /**\n     * Selects the content from element passed on `target` property.\n     */\n\n  }, {\n    key: \"selectTarget\",\n    value: function selectTarget() {\n      this.selectedText = select_default()(this.target);\n      this.copyText();\n    }\n    /**\n     * Executes the copy operation based on the current selection.\n     */\n\n  }, {\n    key: \"copyText\",\n    value: function copyText() {\n      var succeeded;\n\n      try {\n        succeeded = document.execCommand(this.action);\n      } catch (err) {\n        succeeded = false;\n      }\n\n      this.handleResult(succeeded);\n    }\n    /**\n     * Fires an event based on the copy operation result.\n     * @param {Boolean} succeeded\n     */\n\n  }, {\n    key: \"handleResult\",\n    value: function handleResult(succeeded) {\n      this.emitter.emit(succeeded ? 'success' : 'error', {\n        action: this.action,\n        text: this.selectedText,\n        trigger: this.trigger,\n        clearSelection: this.clearSelection.bind(this)\n      });\n    }\n    /**\n     * Moves focus away from `target` and back to the trigger, removes current selection.\n     */\n\n  }, {\n    key: \"clearSelection\",\n    value: function clearSelection() {\n      if (this.trigger) {\n        this.trigger.focus();\n      }\n\n      document.activeElement.blur();\n      window.getSelection().removeAllRanges();\n    }\n    /**\n     * Sets the `action` to be performed which can be either 'copy' or 'cut'.\n     * @param {String} action\n     */\n\n  }, {\n    key: \"destroy\",\n\n    /**\n     * Destroy lifecycle.\n     */\n    value: function destroy() {\n      this.removeFake();\n    }\n  }, {\n    key: \"action\",\n    set: function set() {\n      var action = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'copy';\n      this._action = action;\n\n      if (this._action !== 'copy' && this._action !== 'cut') {\n        throw new Error('Invalid \"action\" value, use either \"copy\" or \"cut\"');\n      }\n    }\n    /**\n     * Gets the `action` property.\n     * @return {String}\n     */\n    ,\n    get: function get() {\n      return this._action;\n    }\n    /**\n     * Sets the `target` property using an element\n     * that will be have its content copied.\n     * @param {Element} target\n     */\n\n  }, {\n    key: \"target\",\n    set: function set(target) {\n      if (target !== undefined) {\n        if (target && _typeof(target) === 'object' && target.nodeType === 1) {\n          if (this.action === 'copy' && target.hasAttribute('disabled')) {\n            throw new Error('Invalid \"target\" attribute. Please use \"readonly\" instead of \"disabled\" attribute');\n          }\n\n          if (this.action === 'cut' && (target.hasAttribute('readonly') || target.hasAttribute('disabled'))) {\n            throw new Error('Invalid \"target\" attribute. You can\\'t cut text from elements with \"readonly\" or \"disabled\" attributes');\n          }\n\n          this._target = target;\n        } else {\n          throw new Error('Invalid \"target\" value, use a valid Element');\n        }\n      }\n    }\n    /**\n     * Gets the `target` property.\n     * @return {String|HTMLElement}\n     */\n    ,\n    get: function get() {\n      return this._target;\n    }\n  }]);\n\n  return ClipboardAction;\n}();\n\n/* harmony default export */ var clipboard_action = (ClipboardAction);\n;// CONCATENATED MODULE: ./src/clipboard.js\nfunction clipboard_typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { clipboard_typeof = function _typeof(obj) { return typeof obj; }; } else { clipboard_typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return clipboard_typeof(obj); }\n\nfunction clipboard_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction clipboard_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction clipboard_createClass(Constructor, protoProps, staticProps) { if (protoProps) clipboard_defineProperties(Constructor.prototype, protoProps); if (staticProps) clipboard_defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (clipboard_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n\n\n\n/**\n * Helper function to retrieve attribute value.\n * @param {String} suffix\n * @param {Element} element\n */\n\nfunction getAttributeValue(suffix, element) {\n  var attribute = \"data-clipboard-\".concat(suffix);\n\n  if (!element.hasAttribute(attribute)) {\n    return;\n  }\n\n  return element.getAttribute(attribute);\n}\n/**\n * Base class which takes one or more elements, adds event listeners to them,\n * and instantiates a new `ClipboardAction` on each click.\n */\n\n\nvar Clipboard = /*#__PURE__*/function (_Emitter) {\n  _inherits(Clipboard, _Emitter);\n\n  var _super = _createSuper(Clipboard);\n\n  /**\n   * @param {String|HTMLElement|HTMLCollection|NodeList} trigger\n   * @param {Object} options\n   */\n  function Clipboard(trigger, options) {\n    var _this;\n\n    clipboard_classCallCheck(this, Clipboard);\n\n    _this = _super.call(this);\n\n    _this.resolveOptions(options);\n\n    _this.listenClick(trigger);\n\n    return _this;\n  }\n  /**\n   * Defines if attributes would be resolved using internal setter functions\n   * or custom functions that were passed in the constructor.\n   * @param {Object} options\n   */\n\n\n  clipboard_createClass(Clipboard, [{\n    key: \"resolveOptions\",\n    value: function resolveOptions() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      this.action = typeof options.action === 'function' ? options.action : this.defaultAction;\n      this.target = typeof options.target === 'function' ? options.target : this.defaultTarget;\n      this.text = typeof options.text === 'function' ? options.text : this.defaultText;\n      this.container = clipboard_typeof(options.container) === 'object' ? options.container : document.body;\n    }\n    /**\n     * Adds a click event listener to the passed trigger.\n     * @param {String|HTMLElement|HTMLCollection|NodeList} trigger\n     */\n\n  }, {\n    key: \"listenClick\",\n    value: function listenClick(trigger) {\n      var _this2 = this;\n\n      this.listener = listen_default()(trigger, 'click', function (e) {\n        return _this2.onClick(e);\n      });\n    }\n    /**\n     * Defines a new `ClipboardAction` on each click event.\n     * @param {Event} e\n     */\n\n  }, {\n    key: \"onClick\",\n    value: function onClick(e) {\n      var trigger = e.delegateTarget || e.currentTarget;\n\n      if (this.clipboardAction) {\n        this.clipboardAction = null;\n      }\n\n      this.clipboardAction = new clipboard_action({\n        action: this.action(trigger),\n        target: this.target(trigger),\n        text: this.text(trigger),\n        container: this.container,\n        trigger: trigger,\n        emitter: this\n      });\n    }\n    /**\n     * Default `action` lookup function.\n     * @param {Element} trigger\n     */\n\n  }, {\n    key: \"defaultAction\",\n    value: function defaultAction(trigger) {\n      return getAttributeValue('action', trigger);\n    }\n    /**\n     * Default `target` lookup function.\n     * @param {Element} trigger\n     */\n\n  }, {\n    key: \"defaultTarget\",\n    value: function defaultTarget(trigger) {\n      var selector = getAttributeValue('target', trigger);\n\n      if (selector) {\n        return document.querySelector(selector);\n      }\n    }\n    /**\n     * Returns the support of the given action, or all actions if no action is\n     * given.\n     * @param {String} [action]\n     */\n\n  }, {\n    key: \"defaultText\",\n\n    /**\n     * Default `text` lookup function.\n     * @param {Element} trigger\n     */\n    value: function defaultText(trigger) {\n      return getAttributeValue('text', trigger);\n    }\n    /**\n     * Destroy lifecycle.\n     */\n\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.listener.destroy();\n\n      if (this.clipboardAction) {\n        this.clipboardAction.destroy();\n        this.clipboardAction = null;\n      }\n    }\n  }], [{\n    key: \"isSupported\",\n    value: function isSupported() {\n      var action = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : ['copy', 'cut'];\n      var actions = typeof action === 'string' ? [action] : action;\n      var support = !!document.queryCommandSupported;\n      actions.forEach(function (action) {\n        support = support && !!document.queryCommandSupported(action);\n      });\n      return support;\n    }\n  }]);\n\n  return Clipboard;\n}((tiny_emitter_default()));\n\n/* harmony default export */ var clipboard = (Clipboard);\n\n/***/ }),\n\n/***/ 828:\n/***/ (function(module) {\n\nvar DOCUMENT_NODE_TYPE = 9;\n\n/**\n * A polyfill for Element.matches()\n */\nif (typeof Element !== 'undefined' && !Element.prototype.matches) {\n    var proto = Element.prototype;\n\n    proto.matches = proto.matchesSelector ||\n                    proto.mozMatchesSelector ||\n                    proto.msMatchesSelector ||\n                    proto.oMatchesSelector ||\n                    proto.webkitMatchesSelector;\n}\n\n/**\n * Finds the closest parent that matches a selector.\n *\n * @param {Element} element\n * @param {String} selector\n * @return {Function}\n */\nfunction closest (element, selector) {\n    while (element && element.nodeType !== DOCUMENT_NODE_TYPE) {\n        if (typeof element.matches === 'function' &&\n            element.matches(selector)) {\n          return element;\n        }\n        element = element.parentNode;\n    }\n}\n\nmodule.exports = closest;\n\n\n/***/ }),\n\n/***/ 438:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\nvar closest = __webpack_require__(828);\n\n/**\n * Delegates event to a selector.\n *\n * @param {Element} element\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @param {Boolean} useCapture\n * @return {Object}\n */\nfunction _delegate(element, selector, type, callback, useCapture) {\n    var listenerFn = listener.apply(this, arguments);\n\n    element.addEventListener(type, listenerFn, useCapture);\n\n    return {\n        destroy: function() {\n            element.removeEventListener(type, listenerFn, useCapture);\n        }\n    }\n}\n\n/**\n * Delegates event to a selector.\n *\n * @param {Element|String|Array} [elements]\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @param {Boolean} useCapture\n * @return {Object}\n */\nfunction delegate(elements, selector, type, callback, useCapture) {\n    // Handle the regular Element usage\n    if (typeof elements.addEventListener === 'function') {\n        return _delegate.apply(null, arguments);\n    }\n\n    // Handle Element-less usage, it defaults to global delegation\n    if (typeof type === 'function') {\n        // Use `document` as the first parameter, then apply arguments\n        // This is a short way to .unshift `arguments` without running into deoptimizations\n        return _delegate.bind(null, document).apply(null, arguments);\n    }\n\n    // Handle Selector-based usage\n    if (typeof elements === 'string') {\n        elements = document.querySelectorAll(elements);\n    }\n\n    // Handle Array-like based usage\n    return Array.prototype.map.call(elements, function (element) {\n        return _delegate(element, selector, type, callback, useCapture);\n    });\n}\n\n/**\n * Finds closest match and invokes callback.\n *\n * @param {Element} element\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @return {Function}\n */\nfunction listener(element, selector, type, callback) {\n    return function(e) {\n        e.delegateTarget = closest(e.target, selector);\n\n        if (e.delegateTarget) {\n            callback.call(element, e);\n        }\n    }\n}\n\nmodule.exports = delegate;\n\n\n/***/ }),\n\n/***/ 879:\n/***/ (function(__unused_webpack_module, exports) {\n\n/**\n * Check if argument is a HTML element.\n *\n * @param {Object} value\n * @return {Boolean}\n */\nexports.node = function(value) {\n    return value !== undefined\n        && value instanceof HTMLElement\n        && value.nodeType === 1;\n};\n\n/**\n * Check if argument is a list of HTML elements.\n *\n * @param {Object} value\n * @return {Boolean}\n */\nexports.nodeList = function(value) {\n    var type = Object.prototype.toString.call(value);\n\n    return value !== undefined\n        && (type === '[object NodeList]' || type === '[object HTMLCollection]')\n        && ('length' in value)\n        && (value.length === 0 || exports.node(value[0]));\n};\n\n/**\n * Check if argument is a string.\n *\n * @param {Object} value\n * @return {Boolean}\n */\nexports.string = function(value) {\n    return typeof value === 'string'\n        || value instanceof String;\n};\n\n/**\n * Check if argument is a function.\n *\n * @param {Object} value\n * @return {Boolean}\n */\nexports.fn = function(value) {\n    var type = Object.prototype.toString.call(value);\n\n    return type === '[object Function]';\n};\n\n\n/***/ }),\n\n/***/ 370:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\nvar is = __webpack_require__(879);\nvar delegate = __webpack_require__(438);\n\n/**\n * Validates all params and calls the right\n * listener function based on its target type.\n *\n * @param {String|HTMLElement|HTMLCollection|NodeList} target\n * @param {String} type\n * @param {Function} callback\n * @return {Object}\n */\nfunction listen(target, type, callback) {\n    if (!target && !type && !callback) {\n        throw new Error('Missing required arguments');\n    }\n\n    if (!is.string(type)) {\n        throw new TypeError('Second argument must be a String');\n    }\n\n    if (!is.fn(callback)) {\n        throw new TypeError('Third argument must be a Function');\n    }\n\n    if (is.node(target)) {\n        return listenNode(target, type, callback);\n    }\n    else if (is.nodeList(target)) {\n        return listenNodeList(target, type, callback);\n    }\n    else if (is.string(target)) {\n        return listenSelector(target, type, callback);\n    }\n    else {\n        throw new TypeError('First argument must be a String, HTMLElement, HTMLCollection, or NodeList');\n    }\n}\n\n/**\n * Adds an event listener to a HTML element\n * and returns a remove listener function.\n *\n * @param {HTMLElement} node\n * @param {String} type\n * @param {Function} callback\n * @return {Object}\n */\nfunction listenNode(node, type, callback) {\n    node.addEventListener(type, callback);\n\n    return {\n        destroy: function() {\n            node.removeEventListener(type, callback);\n        }\n    }\n}\n\n/**\n * Add an event listener to a list of HTML elements\n * and returns a remove listener function.\n *\n * @param {NodeList|HTMLCollection} nodeList\n * @param {String} type\n * @param {Function} callback\n * @return {Object}\n */\nfunction listenNodeList(nodeList, type, callback) {\n    Array.prototype.forEach.call(nodeList, function(node) {\n        node.addEventListener(type, callback);\n    });\n\n    return {\n        destroy: function() {\n            Array.prototype.forEach.call(nodeList, function(node) {\n                node.removeEventListener(type, callback);\n            });\n        }\n    }\n}\n\n/**\n * Add an event listener to a selector\n * and returns a remove listener function.\n *\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @return {Object}\n */\nfunction listenSelector(selector, type, callback) {\n    return delegate(document.body, selector, type, callback);\n}\n\nmodule.exports = listen;\n\n\n/***/ }),\n\n/***/ 817:\n/***/ (function(module) {\n\nfunction select(element) {\n    var selectedText;\n\n    if (element.nodeName === 'SELECT') {\n        element.focus();\n\n        selectedText = element.value;\n    }\n    else if (element.nodeName === 'INPUT' || element.nodeName === 'TEXTAREA') {\n        var isReadOnly = element.hasAttribute('readonly');\n\n        if (!isReadOnly) {\n            element.setAttribute('readonly', '');\n        }\n\n        element.select();\n        element.setSelectionRange(0, element.value.length);\n\n        if (!isReadOnly) {\n            element.removeAttribute('readonly');\n        }\n\n        selectedText = element.value;\n    }\n    else {\n        if (element.hasAttribute('contenteditable')) {\n            element.focus();\n        }\n\n        var selection = window.getSelection();\n        var range = document.createRange();\n\n        range.selectNodeContents(element);\n        selection.removeAllRanges();\n        selection.addRange(range);\n\n        selectedText = selection.toString();\n    }\n\n    return selectedText;\n}\n\nmodule.exports = select;\n\n\n/***/ }),\n\n/***/ 279:\n/***/ (function(module) {\n\nfunction E () {\n  // Keep this empty so it's easier to inherit from\n  // (via https://github.com/lipsmack from https://github.com/scottcorgan/tiny-emitter/issues/3)\n}\n\nE.prototype = {\n  on: function (name, callback, ctx) {\n    var e = this.e || (this.e = {});\n\n    (e[name] || (e[name] = [])).push({\n      fn: callback,\n      ctx: ctx\n    });\n\n    return this;\n  },\n\n  once: function (name, callback, ctx) {\n    var self = this;\n    function listener () {\n      self.off(name, listener);\n      callback.apply(ctx, arguments);\n    };\n\n    listener._ = callback\n    return this.on(name, listener, ctx);\n  },\n\n  emit: function (name) {\n    var data = [].slice.call(arguments, 1);\n    var evtArr = ((this.e || (this.e = {}))[name] || []).slice();\n    var i = 0;\n    var len = evtArr.length;\n\n    for (i; i < len; i++) {\n      evtArr[i].fn.apply(evtArr[i].ctx, data);\n    }\n\n    return this;\n  },\n\n  off: function (name, callback) {\n    var e = this.e || (this.e = {});\n    var evts = e[name];\n    var liveEvents = [];\n\n    if (evts && callback) {\n      for (var i = 0, len = evts.length; i < len; i++) {\n        if (evts[i].fn !== callback && evts[i].fn._ !== callback)\n          liveEvents.push(evts[i]);\n      }\n    }\n\n    // Remove event from queue to prevent memory leak\n    // Suggested by https://github.com/lazd\n    // Ref: https://github.com/scottcorgan/tiny-emitter/commit/c6ebfaa9bc973b33d110a84a307742b7cf94c953#commitcomment-5024910\n\n    (liveEvents.length)\n      ? e[name] = liveEvents\n      : delete e[name];\n\n    return this;\n  }\n};\n\nmodule.exports = E;\nmodule.exports.TinyEmitter = E;\n\n\n/***/ })\n\n/******/ \t});\n/************************************************************************/\n/******/ \t// The module cache\n/******/ \tvar __webpack_module_cache__ = {};\n/******/ \t\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(__webpack_module_cache__[moduleId]) {\n/******/ \t\t\treturn __webpack_module_cache__[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = __webpack_module_cache__[moduleId] = {\n/******/ \t\t\t// no module.id needed\n/******/ \t\t\t// no module.loaded needed\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/ \t\n/******/ \t\t// Execute the module function\n/******/ \t\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n/******/ \t\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/ \t\n/************************************************************************/\n/******/ \t/* webpack/runtime/compat get default export */\n/******/ \t!function() {\n/******/ \t\t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t\t__webpack_require__.n = function(module) {\n/******/ \t\t\tvar getter = module && module.__esModule ?\n/******/ \t\t\t\tfunction() { return module['default']; } :\n/******/ \t\t\t\tfunction() { return module; };\n/******/ \t\t\t__webpack_require__.d(getter, { a: getter });\n/******/ \t\t\treturn getter;\n/******/ \t\t};\n/******/ \t}();\n/******/ \t\n/******/ \t/* webpack/runtime/define property getters */\n/******/ \t!function() {\n/******/ \t\t// define getter functions for harmony exports\n/******/ \t\t__webpack_require__.d = function(exports, definition) {\n/******/ \t\t\tfor(var key in definition) {\n/******/ \t\t\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n/******/ \t\t\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n/******/ \t\t\t\t}\n/******/ \t\t\t}\n/******/ \t\t};\n/******/ \t}();\n/******/ \t\n/******/ \t/* webpack/runtime/hasOwnProperty shorthand */\n/******/ \t!function() {\n/******/ \t\t__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }\n/******/ \t}();\n/******/ \t\n/************************************************************************/\n/******/ \t// module exports must be returned from runtime so entry inlining is disabled\n/******/ \t// startup\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(134);\n/******/ })()\n.default;\n});","var fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  // eslint-disable-next-line es/no-object-isextensible, es/no-object-preventextensions -- required for testing\n  return Object.isExtensible(Object.preventExtensions({}));\n});\n","var $ = require('../internals/export');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar isObject = require('../internals/is-object');\nvar has = require('../internals/has');\nvar defineProperty = require('../internals/object-define-property').f;\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertyNamesExternalModule = require('../internals/object-get-own-property-names-external');\nvar uid = require('../internals/uid');\nvar FREEZING = require('../internals/freezing');\n\nvar REQUIRED = false;\nvar METADATA = uid('meta');\nvar id = 0;\n\n// eslint-disable-next-line es/no-object-isextensible -- safe\nvar isExtensible = Object.isExtensible || function () {\n  return true;\n};\n\nvar setMetadata = function (it) {\n  defineProperty(it, METADATA, { value: {\n    objectID: 'O' + id++, // object ID\n    weakData: {}          // weak collections IDs\n  } });\n};\n\nvar fastKey = function (it, create) {\n  // return a primitive with prefix\n  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if (!has(it, METADATA)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return 'F';\n    // not necessary to add metadata\n    if (!create) return 'E';\n    // add missing metadata\n    setMetadata(it);\n  // return object ID\n  } return it[METADATA].objectID;\n};\n\nvar getWeakData = function (it, create) {\n  if (!has(it, METADATA)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true;\n    // not necessary to add metadata\n    if (!create) return false;\n    // add missing metadata\n    setMetadata(it);\n  // return the store of weak collections IDs\n  } return it[METADATA].weakData;\n};\n\n// add metadata on freeze-family methods calling\nvar onFreeze = function (it) {\n  if (FREEZING && REQUIRED && isExtensible(it) && !has(it, METADATA)) setMetadata(it);\n  return it;\n};\n\nvar enable = function () {\n  meta.enable = function () { /* empty */ };\n  REQUIRED = true;\n  var getOwnPropertyNames = getOwnPropertyNamesModule.f;\n  var splice = [].splice;\n  var test = {};\n  test[METADATA] = 1;\n\n  // prevent exposing of metadata key\n  if (getOwnPropertyNames(test).length) {\n    getOwnPropertyNamesModule.f = function (it) {\n      var result = getOwnPropertyNames(it);\n      for (var i = 0, length = result.length; i < length; i++) {\n        if (result[i] === METADATA) {\n          splice.call(result, i, 1);\n          break;\n        }\n      } return result;\n    };\n\n    $({ target: 'Object', stat: true, forced: true }, {\n      getOwnPropertyNames: getOwnPropertyNamesExternalModule.f\n    });\n  }\n};\n\nvar meta = module.exports = {\n  enable: enable,\n  fastKey: fastKey,\n  getWeakData: getWeakData,\n  onFreeze: onFreeze\n};\n\nhiddenKeys[METADATA] = true;\n"],"sourceRoot":""}